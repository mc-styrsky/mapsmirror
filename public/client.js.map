{
  "version": 3,
  "sources": ["../node_modules/jsonify/lib/parse.js", "../node_modules/jsonify/lib/stringify.js", "../node_modules/jsonify/index.js", "../node_modules/isarray/index.js", "../node_modules/object-keys/isArguments.js", "../node_modules/object-keys/implementation.js", "../node_modules/object-keys/index.js", "../node_modules/function-bind/implementation.js", "../node_modules/function-bind/index.js", "../node_modules/has-symbols/shams.js", "../node_modules/has-symbols/index.js", "../node_modules/has-proto/index.js", "../node_modules/hasown/index.js", "../node_modules/get-intrinsic/index.js", "../node_modules/has-property-descriptors/index.js", "../node_modules/gopd/index.js", "../node_modules/define-data-property/index.js", "../node_modules/set-function-length/index.js", "../node_modules/call-bind/index.js", "../node_modules/json-stable-stringify/index.js", "../node_modules/suncalc/suncalc.js", "../node_modules/parse-dms/index.js", "../src/client/boundingRect.ts", "../src/common/extractProperties.ts", "../src/client/utils/localStorageItem.ts", "../src/client/globals/baselayers.ts", "../src/client/globals/settings.ts", "../src/common/fromEntriesTyped.ts", "../src/client/utils/htmlElements/container.ts", "../src/client/containers/infoBox/imagesToFetch.ts", "../src/client/globals/mouse.ts", "../src/common/layers.ts", "../src/common/modulo.ts", "../node_modules/@mc-styrsky/queue/src/index.ts", "../src/client/globals/tileSize.ts", "../src/client/utils/deg2rad.ts", "../src/client/utils/lat2y.ts", "../src/client/utils/lon2x.ts", "../src/client/globals/marker.ts", "../src/client/globals/containerStyle.ts", "../src/client/utils/rad2deg.ts", "../src/common/x2lon.ts", "../src/client/utils/x2lon.ts", "../src/common/y2lat.ts", "../src/client/utils/y2lat.ts", "../src/client/containers/map/drawImage.ts", "../src/client/containers/map/navionicsWatermark.ts", "../src/client/containers/map/drawNavionics.ts", "../src/client/containers/map/drawCachedImage.ts", "../src/client/containers/map/mapTile.ts", "../src/client/containers/menu/baselayerMenu.ts", "../src/client/containers/mapContainer.ts", "../src/client/utils/htmlElements/iconButton.ts", "../src/client/containers/infoBox/navionicsDetails/goto.ts", "../src/client/containers/infoBox/navionicsDetails/icon.ts", "../src/client/containers/infoBox/navionicsDetails/itemDetails.ts", "../src/client/containers/infoBox/navionicsDetails/label.ts", "../src/client/utils/htmlElements/spinner.ts", "../src/client/utils/frac.ts", "../src/client/utils/min2rad.ts", "../src/client/utils/nm2px.ts", "../src/client/containers/overlay/sphericCircle.ts", "../src/client/containers/overlay/crosshairs.ts", "../src/client/containers/overlay/markers.ts", "../src/client/utils/px2nm.ts", "../src/client/utils/rad2string.ts", "../src/client/containers/overlay/net.ts", "../src/client/containers/overlayContainer.ts", "../src/client/containers/infoBox/navionicsDetails/accordionItem.ts", "../src/client/containers/infoBox/navionicsDetails/accordion.ts", "../src/client/containers/infoBox/navionicsDetails.ts", "../src/client/globals/position.ts", "../src/client/containers/infoBox/infoBoxCoords.ts", "../src/client/globals/halfDay.ts", "../node_modules/date-fns/toDate.mjs", "../node_modules/date-fns/constructFrom.mjs", "../node_modules/date-fns/addDays.mjs", "../node_modules/date-fns/addMonths.mjs", "../node_modules/date-fns/add.mjs", "../node_modules/date-fns/constants.mjs", "../node_modules/date-fns/_lib/defaultOptions.mjs", "../node_modules/date-fns/startOfWeek.mjs", "../node_modules/date-fns/startOfISOWeek.mjs", "../node_modules/date-fns/getISOWeekYear.mjs", "../node_modules/date-fns/startOfDay.mjs", "../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs", "../node_modules/date-fns/differenceInCalendarDays.mjs", "../node_modules/date-fns/startOfISOWeekYear.mjs", "../node_modules/date-fns/isDate.mjs", "../node_modules/date-fns/isValid.mjs", "../node_modules/date-fns/startOfYear.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs", "../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs", "../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs", "../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/localize.mjs", "../node_modules/date-fns/locale/_lib/buildMatchFn.mjs", "../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs", "../node_modules/date-fns/locale/en-US/_lib/match.mjs", "../node_modules/date-fns/locale/en-US.mjs", "../node_modules/date-fns/getDayOfYear.mjs", "../node_modules/date-fns/getISOWeek.mjs", "../node_modules/date-fns/getWeekYear.mjs", "../node_modules/date-fns/startOfWeekYear.mjs", "../node_modules/date-fns/getWeek.mjs", "../node_modules/date-fns/_lib/addLeadingZeros.mjs", "../node_modules/date-fns/_lib/format/lightFormatters.mjs", "../node_modules/date-fns/_lib/format/formatters.mjs", "../node_modules/date-fns/_lib/format/longFormatters.mjs", "../node_modules/date-fns/_lib/protectedTokens.mjs", "../node_modules/date-fns/format.mjs", "../src/client/containers/infoBox/suncalc/solarTimes/durations.ts", "../src/client/containers/infoBox/suncalc/intervalValueOf.ts", "../src/client/containers/infoBox/suncalc/solarTimes/statics.ts", "../src/client/utils/formatDateValue.ts", "../src/client/containers/infoBox/suncalc/solarTimesStatsCanvas.ts", "../src/client/containers/infoBox/suncalc/valueRow.ts", "../src/client/containers/infoBox/suncalc/solarTimes.ts", "../src/client/containers/infoBox.ts", "../src/client/containers/menu/coordsToggle.ts", "../src/client/containers/menu/crosshairToggle.ts", "../src/client/containers/menu/goto/address/searchContainer.ts", "../src/client/containers/menu/goto/address/input.ts", "../src/client/containers/menu/goto/address/form.ts", "../src/client/containers/menu/goto/address/container.ts", "../src/client/containers/menu/goto/coord/form.ts", "../src/client/containers/menu/goto/coord/error.ts", "../src/client/globals/coordUnits.ts", "../src/client/containers/menu/goto/coord/info.ts", "../src/client/containers/menu/goto/coord/input.ts", "../src/client/containers/menu/goto/coord/submit.ts", "../src/client/containers/menu/goto/savedPositions.ts", "../src/client/utils/savedPositionsFromLocalStoreage.ts", "../src/client/containers/menu/gotoMenu.ts", "../src/client/containers/menu/navionicsDetailsToggle.ts", "../src/client/containers/menu/overlayToggle.ts", "../src/client/containers/menu/navionicsToggle.ts", "../src/client/containers/menu/savePosition.ts", "../src/client/containers/menu/suncalcToggle.ts", "../src/client/containers/menu/vfdensityToggle.ts", "../src/client/containers/menuContainer.ts", "../src/client/getUserLocation.ts", "../src/client/events/inputListener.ts", "../src/client/events/mouseInput.ts", "../src/client/containers/mouseContainer.ts", "../src/client/index.ts"],
  "sourcesContent": ["'use strict';\n\nvar at; // The index of the current character\nvar ch; // The current character\nvar escapee = {\n\t'\"': '\"',\n\t'\\\\': '\\\\',\n\t'/': '/',\n\tb: '\\b',\n\tf: '\\f',\n\tn: '\\n',\n\tr: '\\r',\n\tt: '\\t'\n};\nvar text;\n\n// Call error when something is wrong.\nfunction error(m) {\n\tthrow {\n\t\tname: 'SyntaxError',\n\t\tmessage: m,\n\t\tat: at,\n\t\ttext: text\n\t};\n}\n\nfunction next(c) {\n\t// If a c parameter is provided, verify that it matches the current character.\n\tif (c && c !== ch) {\n\t\terror(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n\t}\n\n\t// Get the next character. When there are no more characters, return the empty string.\n\n\tch = text.charAt(at);\n\tat += 1;\n\treturn ch;\n}\n\nfunction number() {\n\t// Parse a number value.\n\tvar num;\n\tvar str = '';\n\n\tif (ch === '-') {\n\t\tstr = '-';\n\t\tnext('-');\n\t}\n\twhile (ch >= '0' && ch <= '9') {\n\t\tstr += ch;\n\t\tnext();\n\t}\n\tif (ch === '.') {\n\t\tstr += '.';\n\t\twhile (next() && ch >= '0' && ch <= '9') {\n\t\t\tstr += ch;\n\t\t}\n\t}\n\tif (ch === 'e' || ch === 'E') {\n\t\tstr += ch;\n\t\tnext();\n\t\tif (ch === '-' || ch === '+') {\n\t\t\tstr += ch;\n\t\t\tnext();\n\t\t}\n\t\twhile (ch >= '0' && ch <= '9') {\n\t\t\tstr += ch;\n\t\t\tnext();\n\t\t}\n\t}\n\tnum = Number(str);\n\tif (!isFinite(num)) {\n\t\terror('Bad number');\n\t}\n\treturn num;\n}\n\nfunction string() {\n\t// Parse a string value.\n\tvar hex;\n\tvar i;\n\tvar str = '';\n\tvar uffff;\n\n\t// When parsing for string values, we must look for \" and \\ characters.\n\tif (ch === '\"') {\n\t\twhile (next()) {\n\t\t\tif (ch === '\"') {\n\t\t\t\tnext();\n\t\t\t\treturn str;\n\t\t\t} else if (ch === '\\\\') {\n\t\t\t\tnext();\n\t\t\t\tif (ch === 'u') {\n\t\t\t\t\tuffff = 0;\n\t\t\t\t\tfor (i = 0; i < 4; i += 1) {\n\t\t\t\t\t\thex = parseInt(next(), 16);\n\t\t\t\t\t\tif (!isFinite(hex)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuffff = (uffff * 16) + hex;\n\t\t\t\t\t}\n\t\t\t\t\tstr += String.fromCharCode(uffff);\n\t\t\t\t} else if (typeof escapee[ch] === 'string') {\n\t\t\t\t\tstr += escapee[ch];\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstr += ch;\n\t\t\t}\n\t\t}\n\t}\n\terror('Bad string');\n}\n\n// Skip whitespace.\nfunction white() {\n\twhile (ch && ch <= ' ') {\n\t\tnext();\n\t}\n}\n\n// true, false, or null.\nfunction word() {\n\tswitch (ch) {\n\t\tcase 't':\n\t\t\tnext('t');\n\t\t\tnext('r');\n\t\t\tnext('u');\n\t\t\tnext('e');\n\t\t\treturn true;\n\t\tcase 'f':\n\t\t\tnext('f');\n\t\t\tnext('a');\n\t\t\tnext('l');\n\t\t\tnext('s');\n\t\t\tnext('e');\n\t\t\treturn false;\n\t\tcase 'n':\n\t\t\tnext('n');\n\t\t\tnext('u');\n\t\t\tnext('l');\n\t\t\tnext('l');\n\t\t\treturn null;\n\t\tdefault:\n\t\t\terror(\"Unexpected '\" + ch + \"'\");\n\t}\n}\n\n// Parse an array value.\nfunction array() {\n\tvar arr = [];\n\n\tif (ch === '[') {\n\t\tnext('[');\n\t\twhite();\n\t\tif (ch === ']') {\n\t\t\tnext(']');\n\t\t\treturn arr; // empty array\n\t\t}\n\t\twhile (ch) {\n\t\t\tarr.push(value()); // eslint-disable-line no-use-before-define\n\t\t\twhite();\n\t\t\tif (ch === ']') {\n\t\t\t\tnext(']');\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tnext(',');\n\t\t\twhite();\n\t\t}\n\t}\n\terror('Bad array');\n}\n\n// Parse an object value.\nfunction object() {\n\tvar key;\n\tvar obj = {};\n\n\tif (ch === '{') {\n\t\tnext('{');\n\t\twhite();\n\t\tif (ch === '}') {\n\t\t\tnext('}');\n\t\t\treturn obj; // empty object\n\t\t}\n\t\twhile (ch) {\n\t\t\tkey = string();\n\t\t\twhite();\n\t\t\tnext(':');\n\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\terror('Duplicate key \"' + key + '\"');\n\t\t\t}\n\t\t\tobj[key] = value(); // eslint-disable-line no-use-before-define\n\t\t\twhite();\n\t\t\tif (ch === '}') {\n\t\t\t\tnext('}');\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\tnext(',');\n\t\t\twhite();\n\t\t}\n\t}\n\terror('Bad object');\n}\n\n// Parse a JSON value. It could be an object, an array, a string, a number, or a word.\nfunction value() {\n\twhite();\n\tswitch (ch) {\n\t\tcase '{':\n\t\t\treturn object();\n\t\tcase '[':\n\t\t\treturn array();\n\t\tcase '\"':\n\t\t\treturn string();\n\t\tcase '-':\n\t\t\treturn number();\n\t\tdefault:\n\t\t\treturn ch >= '0' && ch <= '9' ? number() : word();\n\t}\n}\n\n// Return the json_parse function. It will have access to all of the above functions and variables.\nmodule.exports = function (source, reviver) {\n\tvar result;\n\n\ttext = source;\n\tat = 0;\n\tch = ' ';\n\tresult = value();\n\twhite();\n\tif (ch) {\n\t\terror('Syntax error');\n\t}\n\n\t// If there is a reviver function, we recursively walk the new structure,\n\t// passing each name/value pair to the reviver function for possible\n\t// transformation, starting with a temporary root object that holds the result\n\t// in an empty key. If there is not a reviver function, we simply return the\n\t// result.\n\n\treturn typeof reviver === 'function' ? (function walk(holder, key) {\n\t\tvar k;\n\t\tvar v;\n\t\tvar val = holder[key];\n\t\tif (val && typeof val === 'object') {\n\t\t\tfor (k in value) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(val, k)) {\n\t\t\t\t\tv = walk(val, k);\n\t\t\t\t\tif (typeof v === 'undefined') {\n\t\t\t\t\t\tdelete val[k];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval[k] = v;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn reviver.call(holder, key, val);\n\t}({ '': result }, '')) : result;\n};\n", "'use strict';\n\nvar escapable = /[\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\nvar gap;\nvar indent;\nvar meta = { // table of character substitutions\n\t'\\b': '\\\\b',\n\t'\\t': '\\\\t',\n\t'\\n': '\\\\n',\n\t'\\f': '\\\\f',\n\t'\\r': '\\\\r',\n\t'\"': '\\\\\"',\n\t'\\\\': '\\\\\\\\'\n};\nvar rep;\n\nfunction quote(string) {\n\t// If the string contains no control characters, no quote characters, and no\n\t// backslash characters, then we can safely slap some quotes around it.\n\t// Otherwise we must also replace the offending characters with safe escape sequences.\n\n\tescapable.lastIndex = 0;\n\treturn escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n\t\tvar c = meta[a];\n\t\treturn typeof c === 'string' ? c\n\t\t\t: '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n\t}) + '\"' : '\"' + string + '\"';\n}\n\nfunction str(key, holder) {\n\t// Produce a string from holder[key].\n\tvar i; // The loop counter.\n\tvar k; // The member key.\n\tvar v; // The member value.\n\tvar length;\n\tvar mind = gap;\n\tvar partial;\n\tvar value = holder[key];\n\n\t// If the value has a toJSON method, call it to obtain a replacement value.\n\tif (value && typeof value === 'object' && typeof value.toJSON === 'function') {\n\t\tvalue = value.toJSON(key);\n\t}\n\n\t// If we were called with a replacer function, then call the replacer to obtain a replacement value.\n\tif (typeof rep === 'function') {\n\t\tvalue = rep.call(holder, key, value);\n\t}\n\n\t// What happens next depends on the value's type.\n\tswitch (typeof value) {\n\t\tcase 'string':\n\t\t\treturn quote(value);\n\n\t\tcase 'number':\n\t\t\t// JSON numbers must be finite. Encode non-finite numbers as null.\n\t\t\treturn isFinite(value) ? String(value) : 'null';\n\n\t\tcase 'boolean':\n\t\tcase 'null':\n\t\t\t// If the value is a boolean or null, convert it to a string. Note:\n\t\t\t// typeof null does not produce 'null'. The case is included here in\n\t\t\t// the remote chance that this gets fixed someday.\n\t\t\treturn String(value);\n\n\t\tcase 'object':\n\t\t\tif (!value) {\n\t\t\t\treturn 'null';\n\t\t\t}\n\t\t\tgap += indent;\n\t\t\tpartial = [];\n\n\t\t\t// Array.isArray\n\t\t\tif (Object.prototype.toString.apply(value) === '[object Array]') {\n\t\t\t\tlength = value.length;\n\t\t\t\tfor (i = 0; i < length; i += 1) {\n\t\t\t\t\tpartial[i] = str(i, value) || 'null';\n\t\t\t\t}\n\n\t\t\t\t// Join all of the elements together, separated with commas, and wrap them in brackets.\n\t\t\t\tv = partial.length === 0 ? '[]' : gap\n\t\t\t\t\t? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n\t\t\t\t\t: '[' + partial.join(',') + ']';\n\t\t\t\tgap = mind;\n\t\t\t\treturn v;\n\t\t\t}\n\n\t\t\t// If the replacer is an array, use it to select the members to be stringified.\n\t\t\tif (rep && typeof rep === 'object') {\n\t\t\t\tlength = rep.length;\n\t\t\t\tfor (i = 0; i < length; i += 1) {\n\t\t\t\t\tk = rep[i];\n\t\t\t\t\tif (typeof k === 'string') {\n\t\t\t\t\t\tv = str(k, value);\n\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise, iterate through all of the keys in the object.\n\t\t\t\tfor (k in value) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(value, k)) {\n\t\t\t\t\t\tv = str(k, value);\n\t\t\t\t\t\tif (v) {\n\t\t\t\t\t\t\tpartial.push(quote(k) + (gap ? ': ' : ':') + v);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Join all of the member texts together, separated with commas, and wrap them in braces.\n\n\t\t\tv = partial.length === 0 ? '{}' : gap\n\t\t\t\t? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n\t\t\t\t: '{' + partial.join(',') + '}';\n\t\t\tgap = mind;\n\t\t\treturn v;\n\t\tdefault:\n\t}\n}\n\nmodule.exports = function (value, replacer, space) {\n\tvar i;\n\tgap = '';\n\tindent = '';\n\n\t// If the space parameter is a number, make an indent string containing that many spaces.\n\tif (typeof space === 'number') {\n\t\tfor (i = 0; i < space; i += 1) {\n\t\t\tindent += ' ';\n\t\t}\n\t} else if (typeof space === 'string') {\n\t\t// If the space parameter is a string, it will be used as the indent string.\n\t\tindent = space;\n\t}\n\n\t// If there is a replacer, it must be a function or an array. Otherwise, throw an error.\n\trep = replacer;\n\tif (\n\t\treplacer\n\t\t&& typeof replacer !== 'function'\n\t\t&& (typeof replacer !== 'object' || typeof replacer.length !== 'number')\n\t) {\n\t\tthrow new Error('JSON.stringify');\n\t}\n\n\t// Make a fake root object containing our value under the key of ''.\n\t// Return the result of stringifying the value.\n\treturn str('', { '': value });\n};\n", "'use strict';\n\nexports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n", "var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n", "'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n", "'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n", "'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n", "'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n", "'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n", "'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {(o: {}, p: PropertyKey) => p is keyof o} */\nmodule.exports = bind.call(call, $hasOwn);\n", "'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n", "'use strict';\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = hasPropertyDescriptors && GetIntrinsic('%Object.defineProperty%', true);\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar gopd = require('gopd');\n\n/** @type {(obj: Record<PropertyKey, unknown>, property: PropertyKey, value: unknown, nonEnumerable?: boolean | null, nonWritable?: boolean | null, nonConfigurable?: boolean | null, loose?: boolean) => void} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $floor = GetIntrinsic('%Math.floor%');\n\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(fn, 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(fn, 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n", "'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n", "'use strict';\n\nvar jsonStringify = (typeof JSON !== 'undefined' ? JSON : require('jsonify')).stringify;\n\nvar isArray = require('isarray');\nvar objectKeys = require('object-keys');\nvar callBind = require('call-bind');\n\nvar strRepeat = function repeat(n, char) {\n\tvar str = '';\n\tfor (var i = 0; i < n; i += 1) {\n\t\tstr += char;\n\t}\n\treturn str;\n};\n\nvar defaultReplacer = function (parent, key, value) { return value; };\n\nmodule.exports = function stableStringify(obj) {\n\tvar opts = arguments.length > 1 ? arguments[1] : void undefined;\n\tvar space = (opts && opts.space) || '';\n\tif (typeof space === 'number') { space = strRepeat(space, ' '); }\n\tvar cycles = !!opts && typeof opts.cycles === 'boolean' && opts.cycles;\n\tvar replacer = opts && opts.replacer ? callBind(opts.replacer) : defaultReplacer;\n\n\tvar cmpOpt = typeof opts === 'function' ? opts : opts && opts.cmp;\n\tvar cmp = cmpOpt && function (node) {\n\t\tvar get = cmpOpt.length > 2 && function get(k) { return node[k]; };\n\t\treturn function (a, b) {\n\t\t\treturn cmpOpt(\n\t\t\t\t{ key: a, value: node[a] },\n\t\t\t\t{ key: b, value: node[b] },\n\t\t\t\tget ? { __proto__: null, get: get } : void undefined\n\t\t\t);\n\t\t};\n\t};\n\n\tvar seen = [];\n\treturn (function stringify(parent, key, node, level) {\n\t\tvar indent = space ? '\\n' + strRepeat(level, space) : '';\n\t\tvar colonSeparator = space ? ': ' : ':';\n\n\t\tif (node && node.toJSON && typeof node.toJSON === 'function') {\n\t\t\tnode = node.toJSON();\n\t\t}\n\n\t\tnode = replacer(parent, key, node);\n\n\t\tif (node === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof node !== 'object' || node === null) {\n\t\t\treturn jsonStringify(node);\n\t\t}\n\t\tif (isArray(node)) {\n\t\t\tvar out = '';\n\t\t\tfor (var i = 0; i < node.length; i++) {\n\t\t\t\tvar item = stringify(node, i, node[i], level + 1) || jsonStringify(null);\n\t\t\t\tout += indent + space + item;\n\t\t\t\tif ((i + 1) < node.length) {\n\t\t\t\t\tout += ',';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '[' + out + indent + ']';\n\t\t}\n\n\t\tif (seen.indexOf(node) !== -1) {\n\t\t\tif (cycles) { return jsonStringify('__cycle__'); }\n\t\t\tthrow new TypeError('Converting circular structure to JSON');\n\t\t} else { seen.push(node); }\n\n\t\tvar keys = objectKeys(node).sort(cmp && cmp(node));\n\t\tvar out = '';\n\t\tvar needsComma = false;\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tvar value = stringify(node, key, node[key], level + 1);\n\n\t\t\tif (!value) { continue; }\n\n\t\t\tvar keyValue = jsonStringify(key)\n\t\t\t\t+ colonSeparator\n\t\t\t\t+ value;\n\n\t\t\tout += (needsComma ? ',' : '') + indent + space + keyValue;\n\t\t\tneedsComma = true;\n\t\t}\n\t\tseen.splice(seen.indexOf(node), 1);\n\t\treturn '{' + out + indent + '}';\n\n\t}({ '': obj }, '', obj, 0));\n};\n", "/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\nfunction observerAngle(height) { return -2.076 * Math.sqrt(height) / 60; }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date, latitude/longitude, and, optionally,\n// the observer height (in meters) relative to the horizon\n\nSunCalc.getTimes = function (date, lat, lng, height) {\n\n    height = height || 0;\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        dh = observerAngle(height),\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, h0, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n        h0 = (time[0] + dh) * rad;\n\n        Jset = getSetJ(h0, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n", "'use strict';\n\nmodule.exports = function(dmsString) {\n\n    dmsString = dmsString.trim();\n\n    // Inspired by https://gist.github.com/JeffJacobson/2955437\n    // See https://regex101.com/r/kS2zR1/3\n    var dmsRe = /([NSEW])?\\s?(-)?(\\d+(?:\\.\\d+)?)[\u00B0\u00BA:d\\s]?\\s?(?:(\\d+(?:\\.\\d+)?)['\u2019\u2018\u2032:]?\\s?(?:(\\d{1,2}(?:\\.\\d+)?)(?:\"|\u2033|\u2019\u2019|'')?)?)?\\s?([NSEW])?/i;\n\n    var result = {};\n\n    var m1, m2, decDeg1, decDeg2, dmsString2;\n\n    m1 = dmsString.match(dmsRe);\n\n    if (!m1) throw 'Could not parse string';\n\n    // If dmsString starts with a hemisphere letter, then the regex can also capture the \n    // hemisphere letter for the second coordinate pair if also in the string\n    if (m1[1]) {\n        m1[6] = undefined;\n        dmsString2 = dmsString.substr(m1[0].length - 1).trim();\n    } else {\n        dmsString2 = dmsString.substr(m1[0].length).trim();\n    }\n\n    decDeg1 = decDegFromMatch(m1);\n\n    m2 = dmsString2.match(dmsRe);\n\n    decDeg2 = m2 ? decDegFromMatch(m2) : {};\n\n    if (typeof decDeg1.latLon === 'undefined') {\n        if (!isNaN(decDeg1.decDeg) && isNaN(decDeg2.decDeg)) {\n            // If we only have one coordinate but we have no hemisphere value,\n            // just return the decDeg number\n            return decDeg1.decDeg;\n        } else if (!isNaN(decDeg1.decDeg) && !isNaN(decDeg2.decDeg)) {\n            // If no hemisphere letter but we have two coordinates,\n            // infer that the first is lat, the second lon\n            decDeg1.latLon = 'lat';\n            decDeg2.latLon = 'lon';\n        } else {\n            throw 'Could not parse string';\n        }\n    }\n\n    // If we parsed the first coordinate as lat or lon, then assume the second is the other\n    if (typeof decDeg2.latLon === 'undefined') {\n        decDeg2.latLon = decDeg1.latLon === 'lat' ? 'lon' : 'lat';\n    }\n\n    result[decDeg1.latLon] = decDeg1.decDeg;\n    result[decDeg2.latLon] = decDeg2.decDeg;\n\n    return result;\n\n};\n\nfunction decDegFromMatch(m) {\n    var signIndex = {\n        \"-\": -1,\n        \"N\": 1,\n        \"S\": -1,\n        \"E\": 1,\n        \"W\": -1\n    };\n\n    var latLonIndex = {\n        \"N\": \"lat\",\n        \"S\": \"lat\",\n        \"E\": \"lon\",\n        \"W\": \"lon\"\n    };\n    var degrees, minutes, seconds, sign, latLon;\n\n    sign = signIndex[m[2]] || signIndex[m[1]] || signIndex[m[6]] || 1;\n    degrees = Number(m[3]);\n    minutes = m[4] ? Number(m[4]) : 0;\n    seconds = m[5] ? Number(m[5]) : 0;\n    latLon = latLonIndex[m[1]] || latLonIndex[m[6]];\n\n    if (!inRange(degrees, 0, 180)) throw 'Degrees out of range';\n    if (!inRange(minutes, 0, 60)) throw 'Minutes out of range';\n    if (!inRange(seconds, 0, 60)) throw 'Seconds out of range';\n\n    return {\n        decDeg: sign * (degrees + minutes / 60 + seconds / 3600),\n        latLon: latLon\n    };\n}\n\nfunction inRange(value, a, b) {\n    return value >= a && value <= b;\n}\n", "import type { Container } from './utils/htmlElements/container';\n\nexport class Size {\n  constructor (container: Container<HTMLElement>) {\n    this.container = container;\n    this.refresh();\n  }\n  refresh = () => {\n    const { height, width } = this.container.getBoundingClientRect();\n    console.log('new bounding rect', { height, width });\n    this._height = height;\n    this._width = width;\n  };\n  private container: Container<HTMLElement>;\n  private _height: number = 0;\n  private _width: number = 0;\n  get height () {\n    return this._height;\n  }\n  get width () {\n    return this._width;\n  }\n}\n", "export function extractProperties<T extends object> (\n  obj: Record<string, any> | null | undefined,\n  builder: { [P in keyof T]: (val?: any) => T[P] },\n): T {\n  return Object.entries(builder).reduce((ret, entry) => {\n    const [key, constructor]: [string, any] = entry;\n    ret[key] = constructor(obj?.[key]);\n    return ret;\n  }, {} as T);\n}\n", "import stringify from 'json-stable-stringify';\n\nexport class LocalStorageItem<T = never> {\n  constructor (key: string) {\n    this.key = key;\n  }\n  key: string;\n  set (val: T) {\n    const newsettings = stringify(val);\n    if (window.localStorage.getItem(this.key) !== newsettings) {\n      window.localStorage.setItem(this.key, newsettings);\n    }\n  }\n  get (): T | null {\n    const val = window.localStorage.getItem(this.key);\n    try {\n      return val ? JSON.parse(val) : null;\n    }\n    catch {\n      return null;\n    }\n  }\n}\n", "import type { Baselayer } from '../../common/types/layer';\n\n\nexport const baselayers: Baselayer[] = [\n  '',\n  'osm',\n  'googlesat',\n  'googlestreet',\n  'googlehybrid',\n  'gebco',\n  'bingsat',\n  'opentopomap',\n  'worthit',\n];\n", "import type { Baselayer, LayerSettings, Overlay } from '../../common/types/layer';\nimport { extractProperties } from '../../common/extractProperties';\nimport { LocalStorageItem } from '../utils/localStorageItem';\nimport { baselayers } from './baselayers';\n\nexport type CoordUnit = 'd' | 'dm' | 'dms';\n\nclass Settings {\n  constructor () {\n    const localStorageSettings = new LocalStorageItem<Settings>('settings').get();\n\n\n    const baselayer = localStorageSettings?.baselayer ?? 'osm';\n    this.baselayer = baselayers.includes(baselayer) ? baselayer : 'osm';\n\n    this.show = extractProperties(localStorageSettings?.show, {\n      crosshair: val => Boolean(val ?? true),\n      navionics: Boolean,\n      navionicsDetails: Boolean,\n      openseamap: Boolean,\n      suncalc: Boolean,\n      vfdensity: Boolean,\n    });\n    this.units = extractProperties(localStorageSettings?.units, {\n      coords: (val) => ['d', 'dm', 'dms'].includes(val) ? val : 'dm',\n    });\n  }\n\n  readonly show: {\n    crosshair: boolean\n    navionicsDetails: boolean\n    suncalc: boolean\n  } & Record<Overlay, boolean>;\n  baselayer: Baselayer;\n  get tiles () {\n    const ret: LayerSettings[] = this.overlayOrder\n    .filter(l => this.show[l])\n    .map(source => ({ alpha: this.alpha[source] ?? 1, source }));\n\n    if (this.baselayer) ret.unshift({ alpha: 1, source: this.baselayer });\n    return ret;\n  }\n  units:{\n    coords: CoordUnit\n  };\n  private overlayOrder: Overlay[] = [\n    'openseamap',\n    'navionics',\n    'vfdensity',\n  ];\n  private alpha: Partial<Record<Overlay, number>> = {\n    vfdensity: 0.5,\n  };\n}\n\nexport const settings = new Settings();\n", "export function fromEntriesTyped<K extends string, T = any> (entries: Iterable<readonly [K, T]>): Record<K, T> {\n  return Object.fromEntries(entries) as any;\n}\n\nexport function entriesTyped<K extends string, T> (o: Record<K, T>): [K, T][] {\n  return Object.entries(o) as any;\n}\n", "import { entriesTyped } from '../../../common/fromEntriesTyped';\n\ntype HtmlProps<E extends HTMLElement> = Partial<Omit<E, 'dataset' | 'style'>> & {\n  classes?: (string | null | undefined)[];\n  dataset?: Partial<E['dataset']>,\n  style?: Partial<E['style']>;\n}\n\ndeclare const _: unique symbol;\ntype Forbidden = { [_]: typeof _; }\ntype NoOverride<T=void> = T & Forbidden;\n\nexport class Container<Selector extends HTMLElement = HTMLDivElement> {\n  static from <T extends keyof HTMLElementTagNameMap> (\n    tag: T,\n    props?: HtmlProps<HTMLElementTagNameMap[T]>,\n  ): Container<HTMLElementTagNameMap[T]>;\n  static from <T extends HTMLElement> (\n    tag: T,\n    props?: HtmlProps<T>,\n  ): Container<T>;\n  static from <T extends (keyof HTMLElementTagNameMap | HTMLElement)> (\n    tag: T,\n    props: HtmlProps<T extends keyof HTMLElementTagNameMap ? HTMLElementTagNameMap[T] : T>,\n  ) {\n    const {\n      classes, dataset, style, ...data\n    } = props ?? {};\n    const html = tag instanceof HTMLElement ? tag : document.createElement(tag);\n    entriesTyped(data).forEach(([k, v]) => html[k] = v);\n\n    if (classes) classes.forEach(c => {\n      if (typeof c === 'string') html.classList.add(...c.split(' '));\n    });\n    if (dataset) entriesTyped(dataset).forEach(([k, v]) => html.dataset[k] = v);\n    if (style) entriesTyped(style).forEach(([k, v]) => html.style[k] = v);\n    return new Container<T extends keyof HTMLElementTagNameMap ? HTMLElementTagNameMap[T] : T>(html);\n  }\n  constructor ()\n  constructor (html: Container<any>)\n  constructor (html: HTMLElement)\n  constructor (html: HTMLElement | Container<any> = Container.from('div')) {\n    this.html = html instanceof Container ? html.html : html;\n  }\n\n\n  readonly html: NoOverride<Selector>;\n\n  clear (): NoOverride {\n    this.html.innerHTML = '';\n  }\n\n  append (...items: (string | Node | Container<HTMLElement> | undefined | null)[]): NoOverride<this> {\n    items.forEach(item => {\n      if (item instanceof Container) this.html.append(item.html);\n      else if (item) this.html.append(item);\n    });\n    return this as NoOverride<this>;\n  }\n\n  getBoundingClientRect (): NoOverride<DOMRect> {\n    return this.html.getBoundingClientRect() as NoOverride<DOMRect>;\n  }\n}\n", "import type { VirtLayer } from '../../../common/types/layer';\nimport type { XYZ } from '../../../common/types/xyz';\nimport { Container } from '../../utils/htmlElements/container';\nimport { infoBox } from '../infoBox';\n\nclass ImagesToFetch extends Container {\n  constructor () {\n    super();\n  }\n  private xyz2string = ({ x, y, z }: XYZ) => `${z.toString(16)}_${x.toString(16)}_${y.toString(16)}`;\n\n  private data: Partial<Record<VirtLayer, Set<string>>> = {};\n  private total: Partial<Record<VirtLayer, number>> = {};\n\n  private getSet = (source: VirtLayer) => this.data[source] ??= new Set();\n\n  add = ({ source, ...xyz }: XYZ & {source: VirtLayer}) => {\n    this.getSet(source).add(this.xyz2string(xyz));\n    this.total[source] = (this.total[source] ?? 0) + 1;\n    infoBox.update();\n  };\n  delete = ({ source, ...xyz }: XYZ & {source: VirtLayer}) => {\n    this.getSet(source).delete(this.xyz2string(xyz));\n    if (this.getSet(source).size === 0) {\n      delete this.data[source];\n      delete this.total[source];\n    }\n    infoBox.update();\n  };\n\n  refresh = () => {\n    this.clear();\n    Object.entries(this.data)\n    .map(([key, val]) => [key, val.size])\n    .forEach(([source, size], idx) => {\n      if (idx !== 0) this.append(Container.from('br'));\n      this.append(`${source}: ${size}/${this.total[source]}`);\n    });\n  };\n}\n\nexport const imagesToFetch = new ImagesToFetch();\n", "export const mouse = {\n  down: {\n    state: false,\n    x: 0,\n    y: 0,\n  },\n  x: 0,\n  y: 0,\n};\n", "import type { Layer } from './types/layer';\n\nexport const zoomMax = 20;\nexport const zoomMin = 2;\n\nconst min = zoomMin;\nconst max = zoomMax;\nexport const layers: Record<Layer, {min: number, max: number, label: string}> = {\n  '': { label: '- none -', max, min },\n  bingsat: { label: 'bSat', max, min },\n  gebco: { label: 'Depth', max: 9, min },\n  googlehybrid: { label: 'gHybrid', max, min },\n  googlesat: { label: 'gSat', max, min },\n  googlestreet: { label: 'gStreet', max, min },\n  navionics: { label: 'Navionics', max: 17, min },\n  openseamap: { label: 'oSea', max: 18, min },\n  opentopomap: { label: 'oTopo', max: 17, min },\n  osm: { label: 'oStreet', max: 19, min },\n  vfdensity: { label: 'Density', max: 12, min: 3 },\n  worthit: { label: 'Worthit', max, min },\n};\n", "export function modulo (val: number, mod: number) {\n  const ret = val % mod;\n  return ret < 0 ? ret + mod : ret;\n}\n", "interface QueuedFunc<T, P> {\n  args?: P[],\n  concurrency: number,\n  func: (...args: any[]) => any,\n  resolve: (val: T) => void,\n}\n\nexport class StyQueue {\n  constructor (defaultConcurrency = 5) {\n    this.defaultConcurrency = defaultConcurrency;\n    this.queue = [];\n    this.working = 0;\n  }\n  defaultConcurrency: number;\n\n  private queue: QueuedFunc<any, unknown>[] = [];\n  private working: number;\n\n  private queue2working = async () => {\n    if (this.working < this.queue[0]?.concurrency) {\n      const { args, func, resolve } = <QueuedFunc<any, unknown>> this.queue.shift();\n      this.working++;\n      resolve(await func(...args ?? []));\n      this.working--;\n      this.queue2working();\n    }\n  };\n\n  get length () : number {\n    return this.queue.length + this.working;\n  }\n\n  shift = () => this.queue.shift();\n  pop = () => this.queue.pop();\n\n  enqueue = <T, P extends Array<unknown>> (func: (...args: P) => Promise<T> | T, args?: P, concurrency = this.defaultConcurrency): Promise<T> => {\n    const promise = new Promise<T>((resolve) => {\n      this.queue.push({\n        args,\n        concurrency: concurrency < 1 ? 1 : concurrency,\n        func,\n        resolve,\n      });\n    });\n\n    this.queue2working();\n    return promise;\n  };\n}\n", "\nexport const tileSize = 256;\n", "export function deg2rad (val: number) {\n  return Number(val) * Math.PI / 180;\n}\n", "import { position } from '../globals/position';\n\nexport function lat2y (lat: number, tiles = position.tiles) {\n  return (0.5 - Math.asinh(Math.tan(lat)) / Math.PI / 2) * tiles;\n}\n", "import { position } from '../globals/position';\n\nexport function lon2x (lon: number, tiles = position.tiles) {\n  return (lon / Math.PI / 2 + 0.5) * tiles;\n}\n", "import { lat2y } from '../utils/lat2y';\nimport { lon2x } from '../utils/lon2x';\nimport { position } from './position';\n\n\nexport class Marker {\n  constructor ({ id = '', lat, lon, type }: { id?: string; lat: number; lon: number; type: Marker['type']; }) {\n    this.lat = lat;\n    this.lon = lon;\n    this.type = type;\n    this.id = id;\n    position.markers.set(type, this);\n  }\n  lat: number;\n  lon: number;\n  readonly id: string;\n  get x () {\n    return lon2x(this.lon);\n  }\n  get y () {\n    return lat2y(this.lat);\n  }\n  type: 'user' | 'navionics';\n  delete () {\n    position.markers.delete(this.type);\n  }\n}\n", "export const containerStyle = {\n  height: '100%',\n  left: '0px',\n  overflow: 'hidden',\n  position: 'absolute',\n  top: '0px',\n  width: '100%',\n};\n", "export function rad2deg (val: number) {\n  return Number(val) * 180 / Math.PI;\n}\n", "export function x2lonCommon (x: number, tiles: number) {\n  return (x / tiles - 0.5) * Math.PI * 2;\n}\n", "import { x2lonCommon } from '../../common/x2lon';\nimport { position } from '../globals/position';\n\nexport function x2lon (x: number, tiles = position.tiles) {\n  return x2lonCommon(x, tiles);\n}\n", "export function y2latCommon (y: number, tiles: number) {\n  return Math.asin(Math.tanh((0.5 - y / tiles) * 2 * Math.PI));\n}\n", "import { y2latCommon } from '../../common/y2lat';\nimport { position } from '../globals/position';\n\nexport function y2lat (y: number, tiles = position.tiles) {\n  return y2latCommon(y, tiles);\n}\n", "import type { DrawImage } from '../../../common/types/drawImage';\nimport { layers } from '../../../common/layers';\nimport { tileSize } from '../../globals/tileSize';\nimport { imagesToFetch } from '../infoBox/imagesToFetch';\nimport { drawCachedImage } from './drawCachedImage';\n\nexport function drawImage ({\n  context, source, ttl, x, y, z,\n}: DrawImage): PromiseLike<boolean> {\n  if (z < layers[source].min) return Promise.resolve(false);\n  const src = `/tile/${source}/${[\n    z,\n    x.toString(16),\n    y.toString(16),\n  ].join('/')}?ttl=${ttl}`;\n\n  imagesToFetch.add({ source, x, y, z });\n\n  return new Promise(resolve => {\n    const img = new Image();\n    const onload = () => {\n      context.drawImage(img, 0, 0);\n      imagesToFetch.delete({ source, x, y, z });\n      resolve(true);\n    };\n    const onerror = async () => {\n      console.log('fallback', { source, x, y, z });\n      const workerCanvas = new OffscreenCanvas(tileSize, tileSize);\n      const workerContext = workerCanvas.getContext('2d');\n      if (workerContext) {\n        const draw = await drawCachedImage({\n          alpha: 1,\n          context: workerContext,\n          source,\n          ttl,\n          x: Math.floor(x / 2),\n          y: Math.floor(y / 2),\n          z: z - 1,\n        });\n\n        const success = draw();\n        if (success) context.drawImage(\n          workerCanvas,\n          (x & 1) * tileSize / 2,\n          (y & 1) * tileSize / 2,\n          tileSize / 2, tileSize / 2,\n          0, 0, tileSize, tileSize,\n        );\n        imagesToFetch.delete({ source, x, y, z });\n        resolve(success);\n      }\n      else {\n        imagesToFetch.delete({ source, x, y, z });\n        resolve(false);\n      }\n    };\n    if (z > layers[source].max) onerror();\n    else {\n      img.src = src;\n      img.onload = onload;\n      img.onerror = onerror;\n    }\n  });\n}\n", "import { tileSize } from '../../globals/tileSize';\n\nexport const navionicsWatermark = (async () => {\n  const img = new Image();\n  img.src = '/navionicsWatermark.png';\n  const cnvs = new OffscreenCanvas(tileSize, tileSize);\n  const ctx = cnvs.getContext('2d');\n  if (!ctx) return null;\n  return new Promise<Uint8ClampedArray>((resolve) => {\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0);\n      resolve(ctx.getImageData(0, 0, tileSize, tileSize).data);\n    };\n    img.onerror = () => {\n      ctx.beginPath();\n      ctx.fillStyle = '#f8f8f8f8';\n      ctx.strokeStyle = '#f8f8f8f8';\n      ctx.fillRect(0, 0, tileSize, tileSize);\n      ctx.fill();\n      ctx.stroke();\n      resolve(ctx.getImageData(0, 0, tileSize, tileSize).data);\n    };\n  });\n})()\n.then(watermark => {\n  if (!watermark) return null;\n  const ret = new Uint8ClampedArray(tileSize * tileSize);\n  for (let i = 0; i < ret.length;i++) {\n    ret[i] = watermark[i * 4];\n  }\n  return ret;\n});\n", "import { tileSize } from '../../globals/tileSize';\nimport { imagesToFetch } from '../infoBox/imagesToFetch';\nimport { drawImage } from './drawImage';\nimport { navionicsWatermark } from './navionicsWatermark';\n\nconst backgroundColors = [\n  0x20b0f8,\n  // 0x38b8f8,\n  // 0x48c0f8,\n  // 0x50c0f8,\n  // 0x58c0f8,\n  // 0x58c8f8,\n  // 0x60c8f8,\n  // 0x68c8f8,\n  // 0x70c8f8,\n  // 0x78d0f8,\n  // 0x80d0f8,\n  // 0x88d0f8,\n  // 0x88d8f8,\n  // 0x90d8f8,\n  // 0x98d8f8,\n  // 0xa0d8f8,\n  // 0xa8e0f8,\n  // 0xb0e0f8,\n  // 0xb8e0f8,\n  // 0xc0e8f8,\n  0xf8f8f8,\n  0x98c800,\n].reduce((arr, val) => {\n  const r = val >> 16;\n  const g = val >> 8 & 0xff;\n  const b = val & 0xff;\n  const diff = 1;\n  const alpha = val === 0x98c800 ? 0x40 : 0;\n\n  for (let dr = -diff; dr <= diff; dr++) {\n    for (let dg = -diff; dg <= diff; dg++) {\n      for (let db = -diff; db <= diff; db++) {\n        arr.set((r + dr << 16) + (g + dg << 8) + b + db, alpha);\n      }\n    }\n  }\n  return arr;\n}, new Map<number, number>());\n\nexport async function drawNavionics ({ context, source, ttl, x, y, z }) {\n  const workerCanvas = new OffscreenCanvas(tileSize, tileSize);\n  const workerContext = workerCanvas.getContext('2d');\n  const watermark = await navionicsWatermark;\n  if (!workerContext || !watermark) return false;\n\n\n  const drawProm = drawImage({ context: workerContext, source, ttl, x, y, z });\n  const draw = await drawProm;\n  if (!draw) return false;\n  imagesToFetch.add({ source: 'transparent', x, y, z });\n  const img = workerContext.getImageData(0, 0, tileSize, tileSize);\n\n  const { data } = img;\n  for (let i = 0; i < watermark.length; i++) {\n    const mask = watermark[i];\n    const subData = data.subarray(i * 4, i * 4 + 4);\n    const [r, g, b, a] = subData.map(v => v * 0xf8 / mask);\n    const color = (r << 16) + (g << 8) + b;\n    subData[0] = r;\n    subData[1] = g;\n    subData[2] = b;\n    subData[3] = backgroundColors.get(color) ?? a;\n  }\n  workerContext.putImageData(img, 0, 0);\n  imagesToFetch.delete({ source: 'transparent', x, y, z });\n\n  context.drawImage(workerCanvas, 0, 0);\n  return true;\n}\n", "import type { DrawImage } from '../../../common/types/drawImage';\nimport { modulo } from '../../../common/modulo';\nimport { position } from '../../globals/position';\nimport { tileSize } from '../../globals/tileSize';\nimport { drawImage } from './drawImage';\nimport { drawNavionics } from './drawNavionics';\n\nconst imagesMap: Record<string, PromiseLike<OffscreenCanvas | null> | undefined> = {};\n\nexport async function drawCachedImage (\n  {\n    alpha,\n    context,\n    source,\n    ttl,\n    x,\n    y,\n    z,\n  }: DrawImage & { alpha: number; },\n): Promise<() => true> {\n  const isNavionics = source === 'navionics';\n  const src = `/${source}/${[\n    z,\n    modulo(x, position.tiles).toString(16),\n    modulo(y, position.tiles).toString(16),\n  ].join('/')}`;\n\n  const drawCanvas = (cnvs: OffscreenCanvas) => {\n    context.globalAlpha = alpha;\n    context.drawImage(cnvs, 0, 0);\n  };\n\n  const cachedCanvas = await imagesMap[src];\n  if (cachedCanvas) return () => {\n    drawCanvas(cachedCanvas);\n    return true;\n  };\n  const workerCanvas = new OffscreenCanvas(tileSize, tileSize);\n  const workerContext = workerCanvas.getContext('2d');\n  if (!workerContext) return () => true;\n\n\n  const successProm = isNavionics ?\n    drawNavionics({ context: workerContext, source, ttl, x, y, z }) :\n    drawImage({ context: workerContext, source, ttl, x, y, z });\n\n  imagesMap[src] = successProm.then(success => success ? workerCanvas : null);\n\n  const success = await successProm;\n  return () => {\n    if (success) drawCanvas(workerCanvas);\n\n    return true;\n  };\n}\n", "import type { XYZ } from '../../../common/types/xyz';\nimport { zoomMax } from '../../../common/layers';\nimport { position } from '../../globals/position';\nimport { settings } from '../../globals/settings';\nimport { tileSize } from '../../globals/tileSize';\nimport { Container } from '../../utils/htmlElements/container';\nimport { drawCachedImage } from './drawCachedImage';\n\nconst pad = (1 << zoomMax).toString().length + 1;\nexport class MapTile extends Container<HTMLCanvasElement> {\n  static id ({ x, y, z }: XYZ) {\n    return `z:${\n      z.toFixed(0).padStart(2, ' ')\n    }, x:${\n      x.toFixed(0).padStart(pad, ' ')\n    }, y:${\n      y.toFixed(0).padStart(pad, ' ')\n    }`;\n  }\n  static distance ({ x, y, z }: XYZ, ref: XYZ) {\n    const scale = (1 << ref.z) / (1 << z);\n    const dx = (x + 0.5) * scale - ref.x;\n    const dy = (y + 0.5) * scale - ref.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  constructor ({ x, y, z }: XYZ) {\n    const width = tileSize;\n    const height = tileSize;\n    const ttl = Math.max(Math.min(17, z + Math.max(0, position.ttl)) - z, 0);\n\n    super(Container.from('canvas', {\n      dataset: {\n        x: x.toFixed(0),\n        y: y.toFixed(0),\n        z: z.toFixed(0),\n      },\n      style: {\n        height: `${height}px`,\n        left: '50%',\n        position: 'absolute',\n        top: '50%',\n        width: `${width}px`,\n      },\n    }));\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.id = MapTile.id({ x, y, z });\n    this.html.width = width;\n    this.html.height = height;\n    const context = this.html.getContext('2d');\n\n    if (context) {\n      Promise.all(settings.tiles.map(async (entry) => {\n        const { alpha, source } = entry;\n        return await drawCachedImage({ alpha, context, source, ttl, x, y, z });\n      }))\n      .then(draws => draws.reduce(\n        (prom, draw) => prom.then(() => draw()),\n        Promise.resolve(true),\n      ));\n    }\n  }\n  private x: XYZ['x'];\n  private y: XYZ['x'];\n  private z: XYZ['x'];\n\n\n  moveTo ({ x, y, z }: XYZ) {\n    const scaleZ = z >= this.z ?\n      1 << z - this.z :\n      1 / (1 << this.z - z);\n    const size = tileSize * scaleZ;\n\n    this.html.style.height = `${size}px`;\n    this.html.style.width = `${size}px`;\n    this.html.style.transform = `translate(${\n      Math.floor((this.x * scaleZ - x) * tileSize)\n    }px, ${\n      Math.floor((this.y * scaleZ - y) * tileSize)\n    }px)`;\n  }\n\n  readonly id: string;\n}\n", "import type { Baselayer } from '../../../common/types/layer';\nimport { layers } from '../../../common/layers';\nimport { baselayers } from '../../globals/baselayers';\nimport { settings } from '../../globals/settings';\nimport { Container } from '../../utils/htmlElements/container';\nimport { mapContainer } from '../mapContainer';\n\nexport class BaselayerMenu extends Container {\n  static baselayerLabel = (source: Baselayer) => `${layers[source].label} (${baselayers.indexOf(source)})`;\n\n  constructor () {\n    super(Container.from('div', {\n      classes: ['dropdown'],\n    }));\n    this.append(\n      this.baselayerMenuButton,\n      Container.from('ul', {\n        classes: ['dropdown-menu'],\n      })\n      . append(\n        Container.from('li')\n        .append(\n          ...baselayers.map(source => {\n            return Container.from('a', {\n              classes: ['dropdown-item'],\n              onclick: () => mapContainer.baselayer = source,\n            })\n            .append(BaselayerMenu.baselayerLabel(source));\n          }),\n        ),\n      ),\n    );\n  }\n\n  set baselayerLabel (val: string) {\n    this.baselayerMenuButton.html.innerText = val;\n  }\n\n  private readonly baselayerMenuButton = Container.from('a', {\n    classes: ['btn', 'btn-secondary', 'dropdown-toggle'],\n    dataset: {\n      bsToggle: 'dropdown',\n    },\n    role: 'button',\n  })\n  .append(BaselayerMenu.baselayerLabel(settings.baselayer));\n}\n\nexport const baselayerMenu = new BaselayerMenu();\n", "import type { Baselayer } from '../../common/types/layer';\nimport { zoomMin } from '../../common/layers';\nimport { containerStyle } from '../globals/containerStyle';\nimport { position } from '../globals/position';\nimport { settings } from '../globals/settings';\nimport { tileSize } from '../globals/tileSize';\nimport { boundingRect } from '../index';\nimport { Container } from '../utils/htmlElements/container';\nimport { LocalStorageItem } from '../utils/localStorageItem';\nimport { rad2deg } from '../utils/rad2deg';\nimport { x2lon } from '../utils/x2lon';\nimport { y2lat } from '../utils/y2lat';\nimport { infoBox } from './infoBox';\nimport { MapTile } from './map/mapTile';\nimport { BaselayerMenu, baselayerMenu } from './menu/baselayerMenu';\n\nexport class MapContainer extends Container {\n  constructor () {\n    super(Container.from('div', {\n      id: MapContainer.name,\n      style: containerStyle,\n    }));\n  }\n  private mapTiles = new Map<string, MapTile>();\n\n  rebuild (type: string) {\n    this.mapTiles.clear();\n    this.redraw(type);\n  }\n\n  set baselayer (baselayer: Baselayer) {\n    settings.baselayer = baselayer;\n    baselayerMenu.baselayerLabel = BaselayerMenu.baselayerLabel(baselayer);\n    this.rebuild('changed baselayer');\n  }\n\n  redraw (type: string) {\n    const { height, width } = boundingRect;\n    const { tiles, ttl, x, y, z } = position;\n\n    infoBox.update();\n\n    console.log(`${type} redraw@${new Date().toISOString()}`);\n\n\n    const maxdx = Math.ceil(x + width / 2 / tileSize);\n    const maxdy = Math.ceil(y + height / 2 / tileSize);\n    const mindx = Math.floor(x - width / 2 / tileSize);\n    const mindy = Math.floor(y - height / 2 / tileSize);\n\n    const txArray: number[] = [];\n    for (let tx = mindx; tx < maxdx; tx++) {\n      txArray.push(tx);\n      if (tx < 0) txArray.push(tx + tiles);\n      if (tx > tiles) txArray.push(tx - tiles);\n      // txArray.push(modulo(tx, tiles));\n    }\n    const tyArray: number[] = [];\n    for (let ty = mindy; ty < maxdy; ty++) {\n      if (ty >= 0 && ty < tiles) tyArray.push(ty);\n    }\n\n    const tileIds = new Map<string, {x: number, y: number, z: number}>();\n    for (let tz = zoomMin; tz <= z; tz++) {\n      txArray.forEach(tx => {\n        tyArray.forEach(ty => {\n          const xyz = {\n            x: tx >> z - tz,\n            y: ty >> z - tz,\n            z: tz,\n          };\n          const id = MapTile.id(xyz);\n          tileIds.set(id, xyz);\n        });\n      });\n    }\n\n    this.clear();\n    const sortedTiles = [...tileIds.entries()]\n    .sort(([, a], [, b]) => {\n      if (a.z === b.z) return MapTile.distance(a, position) - MapTile.distance(b, position);\n      if (a.z === z) return 1;\n      if (b.z === z) return -1;\n      if (a.z > z && b.z > z) return b.z - a.z;\n      return a.z - b.z;\n    });\n\n    sortedTiles.forEach(([id, xyz]) => {\n      const tile = this.mapTiles.get(id) ?? (() => {\n        const t = new MapTile(xyz);\n        this.mapTiles.set(t.id, t);\n        return t;\n      })();\n      this.append(tile);\n      tile.moveTo({ x, y, z });\n    });\n\n    (() => {\n      const { origin, pathname, search } = window.location;\n      const newsearch = `?${[\n        ['z', z],\n        ['ttl', ttl],\n        ['lat', rad2deg(y2lat(y)).toFixed(5)],\n        ['lon', rad2deg(x2lon(x)).toFixed(5)],\n      ]\n      .map(([k, v]) => `${k}=${v}`)\n      .join('&')}`;\n      if (newsearch !== search) {\n        const newlocation = `${origin}${pathname}${newsearch}`;\n        window.history.pushState({ path: newlocation }, '', newlocation);\n      }\n      new LocalStorageItem<typeof settings>('settings').set(settings);\n    })();\n  }\n}\n\nexport const mapContainer = new MapContainer();\n", "import type BootstrapIcons from 'bootstrap-icons/font/bootstrap-icons.json';\nimport { mapContainer } from '../../containers/mapContainer';\nimport { Container } from './container';\n\ninterface BsIcon {\n  fontSize?: string;\n  icon: keyof(typeof BootstrapIcons);\n  src?: undefined;\n}\ninterface SvgIcon {\n  fontSize?: undefined;\n  icon?: undefined;\n  src: string;\n}\n\nexport class BootstrapIcon extends Container<HTMLElement> {\n  constructor ({ fontSize = '175%', icon }: BsIcon) {\n    super(Container.from('i', {\n      classes: [`bi-${icon}`],\n      style: { fontSize },\n    }));\n  }\n}\n\nexport class IconButton extends Container<HTMLAnchorElement> {\n  constructor ({\n    active = () => false, fontSize, icon, onclick = () => void 0, src, style,\n  }: {\n    active?: () => boolean,\n    onclick?: () => void;\n    style?: Partial<HTMLAnchorElement['style']>;\n  } & (BsIcon | SvgIcon)) {\n    super(Container.from('a', {\n      classes: ['btn', active() ? 'btn-success' : 'btn-secondary'],\n      role: 'button',\n      style: {\n        padding: '0.25rem',\n        ...style,\n      },\n    }));\n    this.append(\n      icon ?\n        new BootstrapIcon({ fontSize, icon }) :\n        Container.from('img', {\n          src,\n          style: {\n            height: '1.75rem',\n          },\n        }),\n    );\n\n    this.html.onclick = () => {\n      onclick();\n      if (active()) {\n        this.html.classList.add('btn-success');\n        this.html.classList.remove('btn-secondary');\n      }\n      else {\n        this.html.classList.add('btn-secondary');\n        this.html.classList.remove('btn-success');\n      }\n      mapContainer.clear();\n      mapContainer.redraw('icon clicked');\n    };\n  }\n}\n", "import type { NavionicsDetail } from '../navionicsDetails';\nimport { position } from '../../../globals/position';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { BootstrapIcon } from '../../../utils/htmlElements/iconButton';\nimport { lat2y } from '../../../utils/lat2y';\nimport { lon2x } from '../../../utils/lon2x';\nimport { mapContainer } from '../../mapContainer';\n\nexport class NavionicsGoto extends Container {\n  constructor (item: NavionicsDetail) {\n    super(Container.from('a', {\n      onclick: (event) => {\n        const { lat, lon } = item.position;\n        position.xyz = {\n          x: lon2x(lon),\n          y: lat2y(lat),\n        };\n        mapContainer.redraw('goto');\n        event.stopPropagation();\n      },\n      style: {\n        marginLeft: 'auto',\n        padding: '0.25rem',\n      },\n    }));\n\n    this.append(new BootstrapIcon({ icon: 'arrow-right-circle' }));\n  }\n}\n", "import type { NavionicsDetail } from '../navionicsDetails';\nimport { Container } from '../../../utils/htmlElements/container';\n\n\nexport class NavionicsIcon extends Container {\n  constructor (item: NavionicsDetail) {\n    super(Container.from('div', {\n      classes: ['d-flex'],\n      style: {\n        height: '2em',\n        width: '2em',\n      },\n    }));\n\n    this.append(\n      Container.from('div', {\n        style: {\n          margin: 'auto',\n        },\n      })\n      .append(\n        Container.from('img', {\n          src: `/navionics/icon/${encodeURIComponent(item.icon_id)}`,\n          style: {\n            maxHeight: '1.5em',\n            maxWidth: '1.5em',\n          },\n        }),\n      ),\n    );\n  }\n}\n", "import type { NavionicsDetail } from '../navionicsDetails';\nimport { Container } from '../../../utils/htmlElements/container';\n\nexport class NavionicsItemDetails extends Container {\n  constructor (item: NavionicsDetail, itemId: string, accordionId: string) {\n    super(Container.from('div', {\n      classes: ['accordion-collapse', 'collapse', 'px-2'],\n      dataset: {\n        bsParent: `#${accordionId}`,\n      },\n      id: itemId,\n    }));\n\n    if (item.properties) item.properties.forEach(prop => {\n      this.append(Container.from('p').append(prop));\n    });\n  }\n}\n", "import type { NavionicsDetail } from '../navionicsDetails';\nimport { Container } from '../../../utils/htmlElements/container';\n\nexport class NavionicsItemLabel extends Container {\n  constructor (item: NavionicsDetail) {\n    super(Container.from('div', {\n      classes: ['d-flex'],\n    }));\n    this.append(\n      Container.from('div', {\n        style: {\n          margin: 'auto',\n        },\n      })\n      .append(item.name)\n      .append(\n        Container.from('div', {\n          style: {\n            fontSize: '70%',\n            marginLeft: '0.5rem',\n          },\n        })\n        .append(item.distance.toFixed(3), 'nm'),\n      ),\n    );\n  }\n}\n", "import { Container } from './container';\n\nexport class Spinner extends Container {\n  constructor () {\n    super(Container.from('div', {\n      classes: ['d-flex'],\n    }));\n\n    this.append(\n      Container.from('div', {\n        classes: [\n          'spinner-border',\n          'spinner-border-sm',\n        ],\n        style: {\n          margin: 'auto',\n        },\n      }),\n    );\n  }\n}\n", "export function frac (x: number) {\n  return x - Math.floor(x);\n}\n", "export function min2rad (min: number) {\n  return min / 60 / 180 * Math.PI;\n}\n", "import { position } from '../globals/position';\nimport { tileSize } from '../globals/tileSize';\n\nexport function nm2px (lat: number) {\n  const stretch = 1 / Math.cos(lat);\n  return position.tiles * tileSize / 360 / 60 * stretch;\n}\n", "export type LatLon = [number, number, boolean];\n\nexport function sphericCircle (lat: number, lon: number, radius: number, steps = 256): LatLon[] {\n  const sinRadius = Math.sin(radius);\n  const cosRadius = Math.cos(radius);\n  const sinLat = Math.sin(lat);\n  const cosLat = Math.cos(lat);\n\n  const pi2 = Math.PI * 2;\n\n  const points: LatLon[] = [];\n  for (let step = 0; step <= steps; step++) {\n    const omega = step / steps * pi2;\n    const { lat2, lon2 } = sphericLatLon({ cosLat, cosRadius, lat, omega, radius, sinLat, sinRadius });\n    if (step === 0) points.push([lat2, lon + Math.abs(lon2), false]);\n    else if (step === steps / 2) {\n      points.push([lat2, lon + Math.abs(lon2), true]);\n      points.push([lat2, lon - Math.abs(lon2), false]);\n    }\n    else if (step === steps) points.push([lat2, lon - Math.abs(lon2), true]);\n    else points.push([lat2, lon + lon2, true]);\n  }\n  return points;\n}\n\nexport function sphericLatLon ({ cosLat, cosRadius, lat, omega, radius, sinLat, sinRadius }: { lat: number; omega: number; radius: number; sinRadius?: number; cosRadius?: number; sinLat?: number; cosLat?: number; }) {\n  sinRadius ??= Math.sin(radius);\n  cosRadius ??= Math.cos(radius);\n  sinLat ??= Math.sin(lat);\n  cosLat ??= Math.cos(lat);\n\n  const pi2 = 2 * Math.PI;\n  const lonSign = omega - pi2 * Math.floor(omega / pi2) > Math.PI ? -1 : 1;\n\n\n  const sinLat2 = Math.max(-1, Math.min(Math.cos(omega) * cosLat * sinRadius + sinLat * cosRadius, 1));\n  const lat2 = Math.asin(sinLat2);\n  const cosLat2 = Math.sqrt(1 - sinLat2 * sinLat2);\n  const cosLon2 = Math.max(-1, Math.min((cosRadius - sinLat * sinLat2) / cosLat / cosLat2, 1));\n  const lon2 = Math.acos(cosLon2) * lonSign;\n\n  const cosOmega2 = (sinLat - sinLat2 * cosRadius) / (cosLat2 * sinRadius);\n  return { cosOmega2, lat2, lon2 };\n}\n", "import type { Overlay } from '../../../common/types/overlay';\nimport { settings } from '../../globals/settings';\nimport { tileSize } from '../../globals/tileSize';\nimport { frac } from '../../utils/frac';\nimport { lat2y } from '../../utils/lat2y';\nimport { lon2x } from '../../utils/lon2x';\nimport { min2rad } from '../../utils/min2rad';\nimport { nm2px } from '../../utils/nm2px';\nimport { x2lon } from '../../utils/x2lon';\nimport { y2lat } from '../../utils/y2lat';\nimport { sphericCircle, sphericLatLon } from './sphericCircle';\n\nexport function drawCrosshair ({\n  context,\n  width,\n  x,\n  y,\n}: Overlay) {\n  if (!settings.show.crosshair) return ;\n  const lat = y2lat(y);\n  const lon = x2lon(x);\n\n  const milesPerTile = 100 / nm2px(lat);\n  const scale = Math.log10(milesPerTile);\n  const scaleFloor = Math.floor(scale);\n  const scaleFrac = frac(scale);\n\n  const milesPerArc = Math.pow(10, scaleFloor) * (\n    scaleFrac < 0.3 ?\n      1 :\n      scaleFrac > 0.7 ?\n        5 :\n        2\n  );\n  const milesPerDiv = milesPerArc / 10;\n\n  let minLast = 0;\n  context.beginPath();\n  context.strokeStyle = '#ff0000';\n  context.moveTo(-5, 5);\n  context.lineTo(5, -5);\n  context.moveTo(5, 5);\n  context.lineTo(-5, -5);\n  context.stroke();\n  for (let minArc = milesPerArc; minArc < 10800; minArc += milesPerArc) {\n    const radiusX = nm2px(lat) * minArc;\n    if (radiusX > width) break;\n\n    const radDiv = min2rad(minArc);\n\n    const circlePoints = sphericCircle(lat, lon, radDiv)\n    .map(([latPoint, lonPoint, draw]) => ({\n      draw,\n      tx: (lon2x(lonPoint) - x) * tileSize,\n      ty: (lat2y(latPoint) - y) * tileSize,\n    }));\n    context.beginPath();\n    context.strokeStyle = '#ff0000';\n    circlePoints.forEach(({ draw, tx, ty }, idx) => {\n      if (draw) context.lineTo(tx, ty);\n      else context.moveTo(tx, ty);\n      if (idx === 96) context.strokeText(\n        `${minArc.toFixed(Math.max(0, -scaleFloor))}nm`,\n        tx, ty,\n      );\n    });\n    context.stroke();\n\n    const piHalf = Math.PI / 2;\n\n    context.beginPath();\n    context.strokeStyle = '#ff0000';\n\n    for (let minDiv = minLast + milesPerDiv; minDiv < minArc; minDiv += milesPerDiv) {\n      const radDiv = min2rad(minDiv);\n      if (lat + radDiv < piHalf) {\n        const top = (lat2y(lat + radDiv) - y) * tileSize;\n        context.moveTo(-5, top);\n        context.lineTo(5, top);\n      }\n      if (lat - radDiv > -piHalf) {\n        const bottom = (lat2y(lat - radDiv) - y) * tileSize;\n        context.moveTo(-5, bottom);\n        context.lineTo(5, bottom);\n      }\n      const { cosOmega2, lat2, lon2 } = sphericLatLon({\n        lat,\n        omega: piHalf,\n        radius: radDiv,\n      });\n      const sinOmega2 = Math.sqrt(1 - cosOmega2 * cosOmega2);\n\n\n      context.moveTo(\n        (lon2x(lon + lon2) - x) * tileSize + cosOmega2 * 5,\n        (lat2y(lat2) - y) * tileSize - sinOmega2 * 5,\n      );\n      context.lineTo(\n        (lon2x(lon + lon2) - x) * tileSize - cosOmega2 * 5,\n        (lat2y(lat2) - y) * tileSize + sinOmega2 * 5,\n      );\n      context.moveTo(\n        (lon2x(lon - lon2) - x) * tileSize - cosOmega2 * 5,\n        (lat2y(lat2) - y) * tileSize - sinOmega2 * 5,\n      );\n      context.lineTo(\n        (lon2x(lon - lon2) - x) * tileSize + cosOmega2 * 5,\n        (lat2y(lat2) - y) * tileSize + sinOmega2 * 5,\n      );\n    }\n    context.stroke();\n    minLast = minArc;\n  }\n}\n", "import type { Overlay } from '../../../common/types/overlay';\nimport { position } from '../../globals/position';\nimport { tileSize } from '../../globals/tileSize';\n\n\nexport const drawMarkers = ({\n  context, x, y,\n}: Overlay) => {\n  position.markers.forEach(marker => {\n    const markerX = (marker.x - x) * tileSize;\n    const markerY = (marker.y - y) * tileSize;\n    const from = 40;\n    const to = 10;\n\n    [\n      { color: '#000000', width: 3 },\n      { color: { navionics: '#00ff00', user: '#800000' }[marker.type], width: 1 },\n    ].forEach(({ color, width }) => {\n      context.beginPath();\n      context.strokeStyle = color;\n      context.lineWidth = width;\n      context.arc(\n        markerX,\n        markerY,\n        5,\n        2 * Math.PI,\n        0,\n      );\n      context.moveTo(markerX + from, markerY);\n      context.lineTo(markerX + to, markerY);\n      context.moveTo(markerX - from, markerY);\n      context.lineTo(markerX - to, markerY);\n      context.moveTo(markerX, markerY + from);\n      context.lineTo(markerX, markerY + to);\n      context.moveTo(markerX, markerY - from);\n      context.lineTo(markerX, markerY - to);\n      context.stroke();\n    });\n  });\n};\n", "import { position } from '../globals/position';\nimport { tileSize } from '../globals/tileSize';\n\n\nexport function px2nm (lat: number) {\n  const stretch = 1 / Math.cos(lat);\n  return 360 * 60 / position.tiles / tileSize / stretch;\n}\n", "import { modulo } from '../../common/modulo';\nimport { settings } from '../globals/settings';\n\nconst rad2ModuloDeg = (phi: number) => modulo(phi * 180 / Math.PI + 180, 360) - 180;\n\ntype Axis = ' -' | 'NS' | 'EW'\ntype CoordsParams = {phi: number, pad: number, axis: Axis};\nexport const rad2stringFuncs: Record<typeof settings.units.coords, (params: CoordsParams) => string> = {\n  d: ({ axis = ' -', pad = 0, phi }) => {\n    const deg = Math.round(rad2ModuloDeg(phi) * 100000) / 100000;\n\n    return `${\n      axis[deg < 0 ? 1 : 0] ?? ''\n    }${\n      (deg < 0 ? - deg : deg).toFixed(5).padStart(pad + 6, '0')\n    }\u00B0`;\n  },\n  dm: ({ axis = ' -', pad = 0, phi }: CoordsParams) => {\n    const deg = Math.round(rad2ModuloDeg(phi) * 60000) / 60000;\n    const degrees = deg | 0;\n    const minutes = (Math.abs(deg) - Math.abs(degrees)) * 60;\n\n    return `${\n      axis[deg < 0 ? 1 : 0] ?? ''\n    }${\n      (deg < 0 ? - degrees : degrees).toFixed(0).padStart(pad, '0')\n    }\u00B0${\n      minutes.toFixed(3).padStart(6, '0')\n    }`;\n  },\n  dms: ({ axis = ' -', pad = 0, phi }: CoordsParams) => {\n    const deg = Math.round(rad2ModuloDeg(phi) * 360000) / 360000;\n    const degrees = deg | 0;\n    const min = Math.round((Math.abs(deg) - Math.abs(degrees)) * 360000) / 6000;\n    const minutes = min | 0;\n    const seconds = (min - minutes) * 60;\n\n    return `${\n      axis[deg < 0 ? 1 : 0] ?? ''\n    }${\n      (deg < 0 ? - degrees : degrees).toFixed(0).padStart(pad, '0')\n    }\u00B0${\n      minutes.toFixed(0).padStart(2, '0')\n    }'${\n      seconds.toFixed(2).padStart(5, '0')\n    }`;\n  },\n};\n\nexport function rad2string ({ axis = ' -', pad = 0, phi }: CoordsParams) {\n  return rad2stringFuncs[settings.units.coords]({ axis, pad, phi });\n}\n", "import type { Overlay } from '../../../common/types/overlay';\nimport { tileSize } from '../../globals/tileSize';\nimport { lat2y } from '../../utils/lat2y';\nimport { lon2x } from '../../utils/lon2x';\nimport { min2rad } from '../../utils/min2rad';\nimport { px2nm } from '../../utils/px2nm';\nimport { rad2string } from '../../utils/rad2string';\nimport { x2lon } from '../../utils/x2lon';\nimport { y2lat } from '../../utils/y2lat';\n\nconst scales = [\n  0.025,\n  0.05,\n  0.1,\n  0.2,\n  0.5,\n  1,\n  2,\n  5,\n  10,\n  15,\n  20,\n  30,\n  60,\n  2 * 60,\n  5 * 60,\n  10 * 60,\n  15 * 60,\n  20 * 60,\n  30 * 60,\n  45 * 60,\n];\nconst getScale = (lat: number, minPx = 100) => {\n  const target = px2nm(lat) * minPx;\n  return min2rad(scales.reduce((prev, curr) => {\n    return prev > target ?\n      prev :\n      curr;\n  }, scales[0]));\n};\n\nexport const drawNet = ({\n  context,\n  height,\n  width,\n  x,\n  y,\n}: Overlay) => {\n  const lat = y2lat(y);\n  const scaleX = getScale(0, context.measureText(rad2string({ axis: 'EW', pad: 3, phi: 0 })).width);\n  const scaleY = getScale(lat);\n\n  const left = x - width / 2 / tileSize;\n  const right = x + width / 2 / tileSize;\n  const top = y - height / 2 / tileSize;\n  const bottom = y + height / 2 / tileSize;\n\n  const strokeText = (text: string, x: number, y: number) => {\n    context.strokeText(text, x, y);\n    context.fillText(text, x, y);\n  };\n\n  const latTop = Math.floor(y2lat(top) / scaleY) * scaleY;\n  const latBottom = Math.ceil(y2lat(bottom) / scaleY) * scaleY;\n  const pointsY: {latGrid: number, x1: number, x2: number, y1: number}[] = [];\n  for (let ctr = 0; ctr < 1000; ctr++) {\n    const latGrid = latTop - scaleY * ctr;\n    if (latGrid < latBottom) break;\n    pointsY.push({\n      latGrid,\n      x1: (left - x) * tileSize,\n      x2: (right - x) * tileSize,\n      y1: (lat2y(latGrid) - y) * tileSize,\n    });\n  }\n  const lonLeft = Math.floor(x2lon(left) / scaleX) * scaleX;\n  const lonRight = Math.ceil(x2lon(right) / scaleX) * scaleX;\n  const pointsX: {lonGrid: number, y1: number, y2: number, x1: number}[] = [];\n  for (let ctr = 0; ctr < 1000; ctr++) {\n    const lonGrid = lonLeft + scaleX * ctr;\n    if (lonGrid > lonRight) break;\n    pointsX.push({\n      lonGrid,\n      x1: (lon2x(lonGrid) - x) * tileSize,\n      y1: (top - y) * tileSize,\n      y2: (bottom - y) * tileSize,\n    });\n  }\n\n  context.beginPath();\n  context.strokeStyle = '#808080';\n  pointsY.forEach(({ x1, x2, y1 }) => {\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y1);\n  });\n  pointsX.forEach(({ x1, y1, y2 }) => {\n    context.moveTo(x1, y1);\n    context.lineTo(x1, y2);\n  });\n  context.stroke();\n\n  context.beginPath();\n  context.strokeStyle = '#ffffff';\n  context.fillStyle = '#000000';\n  context.lineWidth = 3;\n  pointsY.forEach(({ latGrid, x1, y1 }) => {\n    strokeText(\n      rad2string({ axis: 'NS', pad: 2, phi: latGrid }),\n      x1 + 3,\n      y1 - 3,\n    );\n  });\n  pointsX.forEach(({ lonGrid, x1, y2 }) => {\n    strokeText(\n      rad2string({ axis: 'EW', pad: 3, phi: lonGrid }),\n      x1 + 3,\n      y2 - 3,\n    );\n  });\n  context.fill();\n  context.stroke();\n};\n", "import { containerStyle } from '../globals/containerStyle';\nimport { position } from '../globals/position';\nimport { Container } from '../utils/htmlElements/container';\nimport { drawCrosshair } from './overlay/crosshairs';\nimport { drawMarkers } from './overlay/markers';\nimport { drawNet } from './overlay/net';\n\nclass OverlayContainer extends Container {\n  constructor () {\n    super(Container.from('div', {\n      id: OverlayContainer.name,\n      style: containerStyle,\n    }));\n  }\n  redraw () {\n    const { height, width } = this.html.getBoundingClientRect();\n    const canvas = Container.from('canvas', {\n      height,\n      style: {\n        height: '100%',\n        position: 'absolute',\n        width: '100%',\n      },\n      width,\n    });\n    const context = canvas.html.getContext('2d');\n\n    this.clear();\n    if (context) {\n      const { x, y } = position;\n      context.translate(width / 2, height / 2);\n      const props = { context, height, width, x, y };\n      drawCrosshair(props);\n      drawNet(props);\n      drawMarkers(props);\n      this.append(canvas);\n    }\n  }\n}\n\nexport const overlayContainer = new OverlayContainer();\n", "import type { NavionicsDetail, NavionicsDetails } from '../navionicsDetails';\nimport { Marker } from '../../../globals/marker';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { NavionicsGoto } from './goto';\nimport { NavionicsIcon } from './icon';\nimport { NavionicsItemDetails } from './itemDetails';\nimport { NavionicsItemLabel } from './label';\nimport { Spinner } from '../../../utils/htmlElements/spinner';\nimport { overlayContainer } from '../../overlayContainer';\n\nexport class AccordionItem extends Container {\n  constructor ({ accordionId, idx, item, parent }: {\n    accordionId: string;\n    idx: number;\n    item: NavionicsDetail;\n    parent: NavionicsDetails;\n  }) {\n    const itemId = `navionicsDetailsItem${idx}`;\n    super(Container.from('div', {\n      classes: [\n        'accordion-item',\n        'mm-menu-text',\n      ],\n    }));\n\n    this.append(\n      Container.from('div', {\n        classes: [\n          'accordion-header',\n          'mm-menu-text',\n        ],\n        onmousemove: (event) => {\n          event.stopPropagation();\n          if (parent.marker?.id !== item.id) {\n            parent.marker = new Marker({\n              ...item.position,\n              id: item.id,\n              type: 'navionics',\n            });\n            overlayContainer.redraw();\n          }\n        },\n      })\n      .append(\n        Container.from('div', {\n          classes: [\n            ...item.properties ?\n              ['accordion-button', 'collapsed'] :\n              ['d-flex'],\n            'px-2',\n            'py-0',\n            'mm-menu-text',\n          ],\n          dataset: item.properties ?\n            {\n              bsTarget: `#${itemId}`,\n              bsToggle: 'collapse',\n            } :\n            {},\n        })\n        .append(\n          Container.from('div', {\n            classes: ['d-flex'],\n            style: {\n              width: '100%',\n            },\n          })\n          .append(\n            new NavionicsIcon(item),\n            new NavionicsItemLabel(item),\n            item.position ? new NavionicsGoto(item) : null,\n            item.details ? null : Container.from('div', {\n              style: {\n                width: 'var(--bs-accordion-btn-icon-width)',\n              },\n            }),\n            item.details && !item.properties ? new Spinner() : null,\n          ),\n        ),\n      ),\n    );\n    if (item.properties) this.append(new NavionicsItemDetails(item, itemId, accordionId));\n  }\n}\n", "import type { NavionicsDetail, NavionicsDetails } from '../navionicsDetails';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { AccordionItem } from './accordionItem';\n\nexport class Accordion extends Container {\n  constructor ({ items, offset, parent }: {\n    items: NavionicsDetail[];\n    parent: NavionicsDetails;\n    offset?: number;\n  }) {\n    const accordionId = `navionicsDetailsList${offset ?? ''}`;\n    super(Container.from('div', {\n      classes: ['accordion'],\n      id: accordionId,\n    }));\n\n    if (items.length <= 10) items.forEach((item, idx) => {\n      this.append(new AccordionItem({\n        accordionId,\n        idx: idx + (offset ?? 0),\n        item,\n        parent,\n      }));\n    });\n    else {\n      for (let i = 0; i < items.length; i += 10) {\n        const itemId = `navionicsDetailsItemList${i}`;\n        const itemsSlice = items.slice(i, i + 10);\n        this.append(\n          Container.from('div', {\n            classes: [\n              'accordion-item',\n              'mm-menu-text',\n            ],\n          })\n          .append(\n            Container.from('div', {\n              classes: [\n                'accordion-header',\n                'mm-menu-text',\n              ],\n            })\n            .append(\n              Container.from('div', {\n                classes: [\n                  'accordion-button',\n                  'collapsed',\n                  'px-2',\n                  'py-0',\n                  'mm-menu-text',\n                ],\n                dataset: {\n                  bsTarget: `#${itemId}`,\n                  bsToggle: 'collapse',\n                },\n              })\n              .append(\n                Container.from('div', {\n                  classes: ['d-flex'],\n                  style: {\n                    width: '100%',\n                  },\n                })\n                .append(\n                  itemsSlice.length === 1 ?\n                    `${i + 1}` :\n                    `${i + 1}-${i + itemsSlice.length}`,\n                ),\n              ),\n\n            ),\n          )\n          .append(\n            Container.from('div', {\n              classes: [\n                'accordion-collapse',\n                'collapse',\n                'ps-2',\n                'pe-0',\n                i === 0 ? 'show' : null,\n              ],\n              dataset: {\n                bsParent: `#${accordionId}`,\n              },\n              id: itemId,\n            })\n            .append(new Accordion({ items: itemsSlice, offset: i, parent })),\n          ),\n        );\n      }\n    }\n  }\n}\n", "import type { XYZ } from '../../../common/types/xyz';\nimport type { Marker } from '../../globals/marker';\nimport { StyQueue } from '@mc-styrsky/queue';\nimport { extractProperties } from '../../../common/extractProperties';\nimport { settings } from '../../globals/settings';\nimport { tileSize } from '../../globals/tileSize';\nimport { deg2rad } from '../../utils/deg2rad';\nimport { Container } from '../../utils/htmlElements/container';\nimport { Accordion } from './navionicsDetails/accordion';\nimport { lat2y } from '../../utils/lat2y';\nimport { lon2x } from '../../utils/lon2x';\nimport { px2nm } from '../../utils/px2nm';\nimport { infoBox } from '../infoBox';\n\nexport type NavionicsDetail = {\n  category_id: string,\n  label?: string,\n  properties?: string[],\n  details: boolean,\n  distance: number,\n  icon_id: string,\n  id: string,\n  name: string,\n  position: {\n    lat: number,\n    lon: number,\n  },\n};\n\nexport class NavionicsDetails extends Container {\n  constructor () {\n    super();\n    this.queue.enqueue(() => new Promise(r => setInterval(r, 1)));\n  }\n  private isFetch = false;\n  private fetchProgress = '';\n  readonly list: Map<string, NavionicsDetail> = new Map();\n  marker: Marker | undefined;\n  private queue = new StyQueue(1);\n  private abortControllers: Set<AbortController> = new Set();\n\n\n  private add = (item: NavionicsDetail) => {\n    this.list.set(item.id, item);\n    this.refresh();\n  };\n  delete = (item: NavionicsDetail) => {\n    this.list.delete(item.id);\n    this.refresh();\n  };\n  private refresh = () => {\n    this.clear();\n    this.append(new Accordion({\n      items: [...this.list.values()].sort((a, b) => a.distance - b.distance),\n      parent: this,\n    }));\n    if (this.isFetch) this.append(\n      Container.from('div', {\n        classes: [\n          'accordion-item',\n          'mm-menu-text',\n        ],\n      })\n      .append(\n        Container.from('div', {\n          classes: [\n            'accordion-header',\n            'mm-menu-text',\n          ],\n        })\n        .append(\n          Container.from('div', {\n            classes: [\n              'd-flex',\n              'mm-menu-text',\n            ],\n          })\n          .append(\n            this.fetchProgress,\n            Container.from('div', {\n              classes: [\n                'spinner-border',\n                'spinner-border-sm',\n              ],\n              style: {\n                margin: 'auto',\n              },\n            }),\n          ),\n        ),\n      ),\n    );\n    infoBox.update();\n  };\n\n  async fetch (\n    { x, y, z }: XYZ,\n  ) {\n    while (this.queue.shift()) (() => void 0)();\n    this.abortControllers.forEach(ac => {\n      ac.abort();\n      this.abortControllers.delete(ac);\n    });\n    if (!settings.show.navionicsDetails) return;\n    const listMap: Map<string, any> = new Map();\n    await this.queue.enqueue(async () => {\n      this.isFetch = true;\n      this.list.clear();\n      this.refresh();\n      const abortController = new AbortController();\n      this.abortControllers.add(abortController);\n      const { signal } = abortController;\n      const max = 4;\n      const perTile = 20;\n      const points: { dx: number; dy: number; radius: number; }[] = [{\n        dx: Math.round(x * tileSize) / tileSize,\n        dy: Math.round(y * tileSize) / tileSize,\n        radius: 0,\n      }];\n      for (let iX = -max; iX < max; iX++) {\n        for (let iY = -max; iY < max; iY++) {\n          const dx = Math.ceil(x * perTile + iX) / perTile;\n          const dy = Math.ceil(y * perTile + iY) / perTile;\n          const radius = Math.sqrt((dx - x) * (dx - x) + (dy - y) * (dy - y));\n          points.push({ dx, dy, radius });\n        }\n      }\n      let done = 0;\n      await points\n      .sort((a, b) => a.radius - b.radius)\n      .reduce(async (prom, { dx, dy }) => {\n        const ret = fetch(`/navionics/quickinfo/${z}/${dx}/${dy}`, { signal })\n        .then(async (res) => {\n          if (!res.ok) return;\n          const body = await res.json();\n          await Promise.all((body.items ?? []).map(async (item: Record<string, any>) => {\n            if (listMap.has(item.id)) return;\n            if ([\n              'depth_area',\n              'depth_contour',\n            ].includes(item.category_id)) return;\n            listMap.set(item.id, item);\n            const {\n              category_id, details, icon_id, id, name, position,\n            } = extractProperties(item, {\n              category_id: String,\n              details: Boolean,\n              icon_id: String,\n              id: String,\n              name: String,\n              position: ({ lat, lon }) => ({\n                lat: deg2rad(lat),\n                lon: deg2rad(lon),\n                x: lon2x(deg2rad(lon)),\n                y: lat2y(deg2rad(lat)),\n              }),\n            });\n            const pdx = position.x - x;\n            const pdy = position.y - y;\n            const distance = Math.sqrt(pdx * pdx + pdy * pdy) * tileSize * px2nm(position.lat);\n            this.add({\n              category_id,\n              details,\n              distance,\n              icon_id,\n              id,\n              name,\n              position,\n            });\n            if (item.details) {\n              const { label, properties } = extractProperties(\n                await fetch(`/navionics/objectinfo/${item.id}`, { signal })\n                .then(async (res) => res.ok ? await res.json() : {})\n                .catch(() => { }),\n                {\n                  label: String,\n                  properties: (val) => val?.map(({ label }) => label)?.filter(Boolean),\n                },\n              );\n              this.add({\n                category_id,\n                details,\n                distance,\n                icon_id,\n                id,\n                label,\n                name,\n                position,\n                properties,\n              });\n            }\n          }));\n        })\n        .catch(rej => console.error(rej));\n        await ret;\n        done++;\n        this.fetchProgress = `${done}/${points.length}`;\n        this.refresh();\n        infoBox.update();\n        return prom;\n      }, Promise.resolve());\n      this.abortControllers.delete(abortController);\n      this.isFetch = false;\n    });\n    this.refresh();\n  }\n}\n\nexport const navionicsDetails = new NavionicsDetails();\n", "import type { Marker } from './marker';\nimport type { XYZ } from '../../common/types/xyz';\nimport { extractProperties } from '../../common/extractProperties';\nimport { zoomMax, zoomMin } from '../../common/layers';\nimport { modulo } from '../../common/modulo';\nimport { navionicsDetails } from '../containers/infoBox/navionicsDetails';\nimport { overlayContainer } from '../containers/overlayContainer';\nimport { deg2rad } from '../utils/deg2rad';\nimport { lat2y } from '../utils/lat2y';\nimport { lon2x } from '../utils/lon2x';\nimport { mouse } from './mouse';\n\n\nclass Position {\n  constructor ({ ttl, x, y, z }: XYZ & { ttl: number }) {\n    this.xyz = { x, y, z };\n    this._ttl = ttl;\n    this.map = { x, y, z };\n  }\n  set ttl (val: number) {\n    this._ttl = val;\n  }\n  get ttl () {\n    return this._ttl;\n  }\n  get x () {\n    return this._x;\n  }\n  get y () {\n    return this._y;\n  }\n  get z () {\n    return this._z;\n  }\n  set xyz ({ x = this._x, y = this._y, z = this._z }: Partial<XYZ>) {\n    this._z = z;\n    this._tiles = 1 << z;\n    this._x = modulo(x, this._tiles);\n    this._y = Math.max(0, Math.min(y, this._tiles));\n    setTimeout(() => overlayContainer.redraw(), 1);\n    if (!mouse.down.state) setTimeout(() => navionicsDetails.fetch(this), 100);\n  }\n  get xyz (): XYZ {\n    return {\n      x: this._x,\n      y: this._y,\n      z: this._z,\n    };\n  }\n  get tiles () {\n    return this._tiles;\n  }\n\n  readonly zoomIn = () => {\n    if (this._z < zoomMax) {\n      this.xyz = {\n        x: this._x * 2,\n        y: this._y * 2,\n        z: this._z + 1,\n\n      };\n      return true;\n    }\n    return false;\n  };\n  readonly zoomOut = () => {\n    if (this.z > zoomMin) {\n      this.xyz = {\n        x: this._x /= 2,\n        y: this._y /= 2,\n        z: this._z - 1,\n      };\n      return true;\n    }\n    return false;\n  };\n\n  readonly map: XYZ;\n  readonly markers: Map<Marker['type'], Marker> = new Map();\n  user = {\n    accuracy: 0,\n    latitude: 0,\n    longitude: 0,\n    timestamp: 0,\n  };\n  private _ttl: number;\n  private _x: XYZ['x'] = 0;\n  private _y: XYZ['y'] = 0;\n  private _z: XYZ['z'] = 0;\n  private _tiles: number = 0;\n}\n\nconst searchParams = Object.fromEntries(new URL(window.location.href).searchParams.entries());\nconst { lat, lon, ttl, z } = extractProperties(searchParams, {\n  lat: val => Number(val) ? deg2rad(parseFloat(val)) : 0,\n  lon: val => Number(val) ? deg2rad(parseFloat(val)) : 0,\n  ttl: val => Number(val) ? parseInt(val) : 0,\n  z: val => Number(val) ? parseInt(val) : 2,\n});\n\nexport const position: Position = new Position({\n  ttl,\n  x: lon2x(lon, 1 << z),\n  y: lat2y(lat, 1 << z),\n  z,\n});\n", "import { mouse } from '../../globals/mouse';\nimport { position } from '../../globals/position';\nimport { tileSize } from '../../globals/tileSize';\nimport { boundingRect } from '../../index';\nimport { Container } from '../../utils/htmlElements/container';\nimport { px2nm } from '../../utils/px2nm';\nimport { rad2string } from '../../utils/rad2string';\nimport { x2lon } from '../../utils/x2lon';\nimport { y2lat } from '../../utils/y2lat';\n\nexport class InfoBoxCoords extends Container {\n  constructor () {\n    super();\n    const { height, width } = boundingRect;\n\n    const { x, y } = position;\n\n    const lat = y2lat(y);\n    const lon = x2lon(x);\n    const latMouse = y2lat(y + (mouse.y - height / 2) / tileSize);\n    const lonMouse = x2lon(x + (mouse.x - width / 2) / tileSize);\n\n    const scale = (() => {\n      let nm = px2nm(lat);\n      let px = 1;\n\n      if (nm >= 1) return `${px2nm(lat).toPrecision(3)}nm/px`;\n      while (nm < 1) {\n        nm *= 10;\n        px *= 10;\n      }\n      return `${nm.toPrecision(3)}nm/${px.toFixed(0)}px`;\n    })();\n\n\n    this.row('Scale', `${scale} (Zoom ${position.z})`);\n    this.row('Lat/Lon', `${rad2string({ axis: 'NS', pad: 2, phi: lat })} ${rad2string({ axis: 'EW', pad: 3, phi: lon })}`);\n    this.row('Mouse', `${rad2string({ axis: 'NS', pad: 2, phi: latMouse })} ${rad2string({ axis: 'EW', pad: 3, phi: lonMouse })}`);\n    this.row(\n      'User',\n      `${\n        rad2string({ axis: 'NS', pad: 2, phi: position.user.latitude })\n      } ${\n        rad2string({ axis: 'EW', pad: 3, phi: position.user.longitude })\n      }`,\n    );\n  }\n  private row (left: string, right: string) {\n    this.append(\n      Container.from('div', {\n        classes: [\n          'd-flex',\n        // 'text-end',\n        ],\n        style: {\n          width: '100%',\n        },\n      })\n      .append(\n        Container.from('div', { style: { marginRight: 'auto' } }).append(left),\n        Container.from('div', { style: { marginLeft: 'auto' } }).append(right),\n      ),\n    );\n  }\n}\n", "\nexport const halfDay = 12 * 3600 * 1000;\n", "/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argStr === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n", "/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n", "import { addDays } from \"./addDays.mjs\";\nimport { addMonths } from \"./addMonths.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param duration - The object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns The new date with the seconds added\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\\\\-7\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport function add(date, duration) {\n  const {\n    years = 0,\n    months = 0,\n    weeks = 0,\n    days = 0,\n    hours = 0,\n    minutes = 0,\n    seconds = 0,\n  } = duration;\n\n  // Add years and months\n  const _date = toDate(date);\n  const dateWithMonths =\n    months || years ? addMonths(_date, months + years * 12) : _date;\n\n  // Add weeks and days\n  const dateWithDays =\n    days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths;\n\n  // Add days, hours, minutes and seconds\n  const minutesToAdd = minutes + hours * 60;\n  const secondsToAdd = seconds + minutesToAdd * 60;\n  const msToAdd = secondsToAdd * 1000;\n  const finalDate = constructFrom(date, dateWithDays.getTime() + msToAdd);\n\n  return finalDate;\n}\n\n// Fallback for modularized imports:\nexport default add;\n", "/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n", "let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n", "import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n", "import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n", "import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n", "/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const utcDate = new Date(\n    Date.UTC(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate(),\n      date.getHours(),\n      date.getMinutes(),\n      date.getSeconds(),\n      date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}\n", "import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    startOfDayRight.getTime() -\n    getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n", "import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n", "/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n", "import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n", "import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n", "const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n", "export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n", "const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n", "/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n", "export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n", "export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n", "import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n", "import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff =\n    startOfISOWeek(_date).getTime() - startOfISOWeekYear(_date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n", "import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n", "import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff =\n    startOfWeek(_date, options).getTime() -\n    startOfWeekYear(_date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n", "export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n", "import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.floor(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n", "import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timezoneOffset = originalDate.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timezoneOffset = originalDate.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize, options) {\n    const originalDate = options._originalDate || date;\n    const timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.floor(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n", "const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n", "const protectedDayOfYearTokens = [\"D\", \"DD\"];\nconst protectedWeekYearTokens = [\"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\n\nexport function throwProtectedError(token, format, input) {\n  if (token === \"YYYY\") {\n    throw new RangeError(\n      `Use \\`yyyy\\` instead of \\`YYYY\\` (in \\`${format}\\`) for formatting years to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`,\n    );\n  } else if (token === \"YY\") {\n    throw new RangeError(\n      `Use \\`yy\\` instead of \\`YY\\` (in \\`${format}\\`) for formatting years to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`,\n    );\n  } else if (token === \"D\") {\n    throw new RangeError(\n      `Use \\`d\\` instead of \\`D\\` (in \\`${format}\\`) for formatting days of the month to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`,\n    );\n  } else if (token === \"DD\") {\n    throw new RangeError(\n      `Use \\`dd\\` instead of \\`DD\\` (in \\`${format}\\`) for formatting days of the month to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`,\n    );\n  }\n}\n", "import { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  throwProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > \u26A0\uFE0F Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate,\n  };\n\n  const result = formatStr\n    .match(longFormattingTokensRegExp)\n    .map(function (substring) {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map(function (substring) {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return \"'\";\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return cleanEscapedString(substring);\n      }\n\n      const formatter = formatters[firstCharacter];\n      if (formatter) {\n        if (\n          !options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(substring)\n        ) {\n          throwProtectedError(substring, formatStr, String(date));\n        }\n        if (\n          !options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(substring)\n        ) {\n          throwProtectedError(substring, formatStr, String(date));\n        }\n        return formatter(\n          originalDate,\n          substring,\n          locale.localize,\n          formatterOptions,\n        );\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return substring;\n    })\n    .join(\"\");\n\n  return result;\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n", "import type { SolarDuration } from '../types/solarDuration';\nimport { add } from 'date-fns';\nimport { getPosition, getTimes } from 'suncalc';\nimport { halfDay } from '../../../../globals/halfDay';\nimport { intervalValueOf } from '../intervalValueOf';\nimport { SolarTimesStatics } from './statics';\n\nexport class SolarTimesDurations extends SolarTimesStatics {\n  protected getDurations = ({ date }: { date: Date; }): SolarDuration => {\n    const { dawn, dusk, nauticalDawn, nauticalDusk, night, nightEnd, solarNoon, sunrise, sunriseEnd, sunset, sunsetStart } = getTimes(date, this.lat, this.lon);\n    const dayRaw = intervalValueOf({ end: sunsetStart, solarNoon, start: sunriseEnd });\n    const isPolarDay = dayRaw === 0 && getPosition(solarNoon, this.lat, this.lon).altitude >= 0;\n    return {\n      astronomicalDawn: intervalValueOf({ end: nauticalDawn, solarNoon, start: nightEnd }),\n      astronomicalDusk: intervalValueOf({ end: night, solarNoon, start: nauticalDusk }),\n      civilDawn: intervalValueOf({ end: sunrise, solarNoon, start: dawn }),\n      civilDusk: intervalValueOf({ end: dusk, solarNoon, start: sunset }),\n      day: isPolarDay ? halfDay * 2 : dayRaw,\n      nauticalDawn: intervalValueOf({ end: dawn, solarNoon, start: nauticalDawn }),\n      nauticalDusk: intervalValueOf({ end: nauticalDusk, solarNoon, start: dusk }),\n      sunrise: intervalValueOf({ end: sunriseEnd, solarNoon, start: sunrise }),\n      sunset: intervalValueOf({ end: sunset, solarNoon, start: sunsetStart }),\n    };\n  };\n  protected getDurationsStat = ({ year }: {\n    year: number;\n  }) => {\n    let date = new Date(year, 0);\n    const ret: SolarDuration[] = [];\n    while (date.getFullYear() === year) {\n      const durations = this.getDurations({ date });\n      ret.push(durations);\n      date = add(date, { hours: 24 });\n    }\n    return ret;\n  };\n}\n", "import { halfDay } from '../../../globals/halfDay';\n\nexport function intervalValueOf ({ end: endDate, solarNoon: noonDate, start: startDate }: { end: Date; start: Date; solarNoon: Date; }) {\n  const end = endDate.valueOf();\n  const start = startDate.valueOf();\n  const startNaN = Number.isNaN(start);\n  const endNaN = Number.isNaN(end);\n  const noon = noonDate.valueOf();\n  if (startNaN && endNaN) return 0;\n  if (startNaN) return end <= noon ?\n    end - (noon - halfDay) :\n    end - noon;\n  if (endNaN) return start >= noon ?\n    noon + halfDay - start :\n    noon - start;\n\n  return end - start;\n}\n", "import type { DurationKeys } from '../types/durationKeys';\nimport type { SolarDuration } from '../types/solarDuration';\nimport { format } from 'date-fns';\nimport { halfDay } from '../../../../globals/halfDay';\nimport { Container } from '../../../../utils/htmlElements/container';\n\nexport class SolarTimesStatics extends Container {\n  constructor () {\n    super();\n    this.html.id = 'SolarTimes';\n  }\n  lat = 0;\n  lon = 0;\n  x = -1;\n  y = -1;\n  static increment = ({ durations, keys }: {\n    durations: SolarDuration;\n    keys: DurationKeys[];\n  }) => keys.reduce((sum, key) => sum + durations[key], 0);\n\n  static formatDates = (dates: Date[]) => dates\n  .sort((a, b) => a.valueOf() - b.valueOf())\n  .reduce((ret: { start: Date; end: Date; }[], date) => {\n    const { end = date, start = date } = ret.pop() ?? {};\n    if (date.valueOf() - end.valueOf() <= halfDay * 2) ret.push({ end: date, start });\n    else {\n      ret.push({ end, start });\n      ret.push({ end: date, start: date });\n    }\n    return ret;\n  }, [])\n  .reduce((ret: (Container<HTMLElement> | string)[], { end, start }, idx) => {\n    if (idx !== 0) ret.push(Container.from('br'));\n    ret.push(start.valueOf() === end.valueOf() ?\n      format(start, 'dd.MM.yyyy') :\n      `${format(start, 'dd.MM.yyyy')} - ${format(end, 'dd.MM.yyyy')}`,\n    );\n    return ret;\n  }, []);\n}\n", "export function formatDateValue (val: number) {\n  const secs = Math.round(val / 1000);\n  const {\n    hours, minutes, seconds,\n  } = {\n    hours: Math.floor(secs / 3600),\n    minutes: Math.floor(secs / 60) % 60,\n    seconds: secs % 60,\n  };\n  return [hours, minutes, seconds].map(v => v?.toFixed(0).padStart(2, '0')).join(':');\n}\n", "import type { DurationKeys } from './types/durationKeys';\nimport type { SolarDuration } from './types/solarDuration';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { SolarTimesStatics } from './solarTimes/statics';\n\nexport class SolarTimesStatsCanvas extends Container<HTMLCanvasElement> {\n  constructor ({ height, keys, map = (val) => val, params = {}, stats, width }: {\n    stats: SolarDuration[];\n    keys: DurationKeys[];\n    params?: Partial<Omit<HTMLCanvasElement, 'dataset' | 'style' | 'width' | 'height'>> & {\n      classes?: (string | null | undefined)[];\n      dataset?: Partial<HTMLCanvasElement['dataset']>;\n      style?: Partial<HTMLCanvasElement['style']>;\n    };\n    height: number;\n    width: number;\n    map?: (val: number) => number\n  }) {\n    const values = stats.map(durations => map(SolarTimesStatics.increment({ durations, keys })));\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const scaleY = (height - 1) / (max - min);\n    const scaleX = width / stats.length;\n    super(Container.from('canvas', {\n      height,\n      width,\n      ...params,\n    }));\n    const context = this.html.getContext('2d');\n    if (context) {\n      context.beginPath();\n      context.strokeStyle = '#000000';\n      values.forEach((val, idx) => {\n        const x = idx * scaleX;\n        const y = (max - val) * scaleY + 0.5;\n        if (x === 0) context.moveTo(x, y);\n        else context.lineTo(x, y);\n      });\n      context.stroke();\n    }\n    this.max = max;\n    this.min = min;\n  }\n  min: number;\n  max: number;\n}\n", "import type { AddDuration } from './types/addDuration';\nimport type { AddIncrement } from './types/addIncrement';\nimport type { DurationKeys } from './types/durationKeys';\nimport { formatDateValue } from '../../../utils/formatDateValue';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { SolarTimesStatics } from './solarTimes/statics';\nimport { SolarTimesStatsCanvas } from './solarTimesStatsCanvas';\n\nexport class ValueRow extends Container {\n  constructor () {\n    super();\n  }\n  total = 0;\n  totalKeys: DurationKeys[] = [];\n  fill = (label: string, sum: number) => this.add({\n    increment: sum - this.total,\n    label,\n  });\n  fillStats = (durations:AddDuration['durations'], sum: number) => this.addStats({\n    durations,\n    keys: this.totalKeys,\n    map: (val) => sum - val,\n  });\n  add ({ durations, keys, label }: AddDuration): ValueRow\n  add ({ increment, label }: AddIncrement): ValueRow\n  add ({ durations, increment, keys, label }: AddDuration | AddIncrement): ValueRow {\n    increment ??= SolarTimesStatics.increment({\n      durations: durations.today,\n      keys,\n    }),\n\n    this.total += increment;\n\n    this.addRow({\n      col1: [label],\n      col2: [increment ? `+${formatDateValue(increment)}` : ''],\n      col3: [formatDateValue(this.total)],\n    });\n\n    if (durations) this.addStats({ durations, keys });\n\n    return this;\n  }\n  addRow ({ col1, col2, col3 }: Partial<Record<'col1'|'col2'|'col3', (string|Container<HTMLElement>)[]>>): ValueRow\n  addRow ({ row }: {row: (string|Container<HTMLElement>)[]}): ValueRow\n  addRow ({ col1 = [], col2 = [], col3 = [], row }: Partial<Record<'col1'|'col2'|'col3'|'row', (string|Container<HTMLElement>)[]>>) {\n    row ??= [\n      Container.from('div', {\n        style: { marginRight: 'auto' },\n      }).append(...col1),\n      Container.from('div', {\n        classes: ['text-end'],\n        style: { width: '5em' },\n      }).append(...col2),\n      Container.from('div', {\n        classes: ['text-end'],\n        style: { width: '5em' },\n      }).append(...col3),\n    ];\n    this.append(Container.from('div', {\n      classes: ['d-flex'],\n    }).append(...row));\n    return this;\n  }\n  addStats ({ durations, keys, map }: Pick<AddDuration, 'durations' | 'keys'> & {map?: (val: number) => number}) {\n    const stats = new SolarTimesStatsCanvas({\n      height: 30,\n      keys,\n      map,\n      params: {\n        style: {\n          backgroundColor: '#ffffff',\n          height: '30px',\n          width: '15em',\n        },\n      },\n      stats: durations.stats,\n      width: 15 * 16,\n    });\n    const axis = [stats.max, stats.min].map(v => Container.from('div', {\n      classes: ['text-end'],\n      style: {\n        fontSize: '10px',\n      },\n    }).append(formatDateValue(v)));\n    this.addRow({\n      row: [\n        Container.from('div', {\n          style: {\n            backgroundColor: '#ffffff',\n            borderColor: '#000000',\n            borderRight: '1px solid',\n            marginLeft: 'auto',\n            paddingLeft: '3px',\n            paddingRight: '3px',\n          },\n        })\n        .append(...axis),\n        stats,\n      ],\n    });\n\n    this.totalKeys.push(...keys);\n    return this;\n  }\n}\n", "import { halfDay } from '../../../globals/halfDay';\nimport { position } from '../../../globals/position';\nimport { rad2deg } from '../../../utils/rad2deg';\nimport { x2lon } from '../../../utils/x2lon';\nimport { y2lat } from '../../../utils/y2lat';\nimport { SolarTimesDurations } from './solarTimes/durations';\nimport { ValueRow } from './valueRow';\n\nclass SolarTimes extends SolarTimesDurations {\n  refresh = () => {\n    if (this.x !== position.x || this.y !== position.y) {\n      this.x = position.x;\n      this.y = position.y;\n      this.lat = rad2deg(y2lat(this.y));\n      this.lon = rad2deg(x2lon(this.x));\n      this.clear();\n\n      const date = new Date();\n      const durations = {\n        stats: this.getDurationsStat({\n          year: date.getFullYear(),\n        }),\n        today: this.getDurations({ date }),\n      };\n\n      this.append(\n        new ValueRow()\n        .add({\n          durations,\n          keys: ['day'],\n          label: 'Day',\n        })\n        .add({\n          durations,\n          keys: ['sunrise', 'sunset'],\n          label: 'Sunrise/set',\n        })\n        .add({\n          durations,\n          keys: ['civilDawn', 'civilDusk'],\n          label: 'Twilight',\n        })\n        .add({\n          durations,\n          keys: ['nauticalDawn', 'nauticalDusk'],\n          label: 'Naut. Twilight',\n        })\n        // .add({\n        //   durations,\n        //   keys: ['astronomicalDawn', 'astronomicalDusk'],\n        //   label: 'Astro. Twilight',\n        // })\n        .fill('Night', halfDay * 2)\n        .fillStats(durations, halfDay * 2),\n      );\n    }\n  };\n}\n\nexport const solarTimes = new SolarTimes();\n", "import { settings } from '../globals/settings';\nimport { Container } from '../utils/htmlElements/container';\nimport { imagesToFetch } from './infoBox/imagesToFetch';\nimport { InfoBoxCoords } from './infoBox/infoBoxCoords';\nimport { navionicsDetails } from './infoBox/navionicsDetails';\nimport { solarTimes } from './infoBox/suncalc/solarTimes';\n\nclass InfoBox extends Container {\n  constructor () {\n    super(Container.from('div', {\n      classes: ['p-2', 'mt-2'],\n      style: {\n        backgroundColor: '#aaaa',\n        borderBottomLeftRadius: 'var(--bs-border-radius)',\n        borderTopLeftRadius: 'var(--bs-border-radius)',\n        position: 'absolute',\n        right: '0',\n        width: '20rem',\n      },\n    }));\n  }\n  update () {\n    this.clear();\n    this.append(new InfoBoxCoords());\n    if (settings.show.navionicsDetails) this.append(navionicsDetails);\n    if (settings.show.suncalc) {\n      solarTimes.refresh();\n      this.append(solarTimes);\n    }\n    imagesToFetch.refresh();\n    this.append(imagesToFetch);\n  }\n}\n\nexport const infoBox = new InfoBox();\n", "import { settings } from '../../globals/settings';\nimport { Container } from '../../utils/htmlElements/container';\nimport { mapContainer } from '../mapContainer';\n\nexport const coordsToggle = Container.from('a', {\n  classes: ['btn', 'btn-secondary'],\n  onclick: () => {\n    settings.units.coords = {\n      d: <const> 'dm',\n      dm: <const> 'dms',\n      dms: <const> 'd',\n    }[settings.units.coords] ?? 'dm';\n\n    coordsToggle.clear();\n    coordsToggle.append({\n      d: 'Dec',\n      dm: 'D\u00B0M\\'',\n      dms: 'DMS',\n    }[settings.units.coords]);\n    mapContainer.redraw('coords changed');\n  },\n  role: 'button',\n});\n\ncoordsToggle.append({\n  d: 'Dec',\n  dm: 'D\u00B0M\\'',\n  dms: 'DMS',\n}[settings.units.coords]);\n", "import { settings } from '../../globals/settings';\nimport { IconButton } from '../../utils/htmlElements/iconButton';\nimport { overlayContainer } from '../overlayContainer';\n\nexport const crosshairToggle = new IconButton({\n  active: () => settings.show.crosshair,\n  icon: 'crosshair',\n  onclick: () => {\n    settings.show.crosshair = !settings.show.crosshair;\n    overlayContainer.redraw();\n  },\n});\n", "import { Container } from '../../../../utils/htmlElements/container';\n\nexport const addressSearchContainer = Container.from('div', {\n  classes: ['dropdown-menu'],\n});\n", "import { StyQueue } from '@mc-styrsky/queue';\nimport { extractProperties } from '../../../../../common/extractProperties';\nimport { position } from '../../../../globals/position';\nimport { deg2rad } from '../../../../utils/deg2rad';\nimport { Container } from '../../../../utils/htmlElements/container';\nimport { lat2y } from '../../../../utils/lat2y';\nimport { lon2x } from '../../../../utils/lon2x';\nimport { mapContainer } from '../../../mapContainer';\nimport { addressForm } from './form';\nimport { addressSearchContainer } from './searchContainer';\n\nconst addressQueue = new StyQueue(1);\n\nexport const addressInput = Container.from('input', {\n  autocomplete: 'off',\n  classes: ['form-control'],\n  oninput: async () => {\n    const { value } = addressInput.html;\n    while (addressQueue.shift()) void 0;\n    const valid = Boolean(value) && await addressQueue.enqueue(() => {\n      return fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${addressInput.html.value}`)\n      .then(async res => {\n        if (!res.ok) return false;\n        const items = await res.json();\n        if (!Array.isArray(items)) return false;\n        if (items.length === 0) return false;\n        if (value !== addressInput.html.value) return false;\n\n        addressSearchContainer.clear();\n        addressSearchContainer.append(\n          Container.from('div', {\n            classes: ['list-group', 'list-group-flush'],\n          })\n          .append(\n            ...items\n            .sort((a, b) => b.importance - a.importance)\n            .map((item, idx) => {\n              const { boundingbox, display_name: displayName, lat, lon } = extractProperties(item, {\n                boundingbox: (val) => Array.isArray(val) ? val.map(deg2rad) : [],\n                display_name: String,\n                lat: deg2rad,\n                lon: deg2rad,\n              });\n              const [lat1 = lat, lat2 = lat, lon1 = lon, lon2 = lon] = boundingbox;\n              const z = (() => {\n                if (Math.abs(lat2 - lat1) > 0 && Math.abs(lon2 - lon1) > 0) {\n                  const diffX = Math.abs(lon2x(lon2, 1) - lon2x(lon1, 1));\n                  const diffY = Math.abs(lat2y(lon2, 1) - lat2y(lon1, 1));\n                  const zoom = 1 / Math.max(diffX, diffY);\n                  return Math.max(2, Math.min(Math.ceil(Math.log2(zoom)), 17));\n                }\n                return position.z;\n              })();\n              const onclick = () => {\n                addressInput.html.placeholder = value;\n                addressInput.html.value = '';\n                addressSearchContainer.html.classList.remove('show');\n                position.xyz = {\n                  x: lon2x(lon, 1 << z),\n                  y: lat2y(lat, 1 << z),\n                  z,\n                };\n                mapContainer.redraw('goto address');\n              };\n\n              if (idx === 0) addressForm.html.onsubmit = onclick;\n              return Container.from('a', {\n                classes: ['list-group-item'],\n                onclick,\n                role: 'button',\n              }).append(`${displayName} (${z})`);\n            }),\n          ),\n        );\n        return true;\n      })\n      .catch(() => false);\n    });\n    if (valid) {\n      addressSearchContainer.html.classList.add('show');\n    }\n    else {\n      addressSearchContainer.html.classList.remove('show');\n      addressSearchContainer.clear();\n    }\n  },\n  placeholder: 'Address',\n  type: 'text',\n});\n", "import { Container } from '../../../../utils/htmlElements/container';\nimport { addressInput } from './input';\n\nexport const addressForm = Container.from('form', {\n  action: 'javascript:void(0)',\n  classes: ['m-0'],\n  style: {\n    minWidth: '20em',\n  },\n});\n\naddressForm.append(addressInput);\n", "import { Container } from '../../../../utils/htmlElements/container';\nimport { addressForm } from './form';\nimport { addressSearchContainer } from './searchContainer';\n\nexport const addressContainer = Container.from('div', {\n  classes: ['dropdown'],\n});\n\naddressContainer.append(\n  addressForm,\n  addressSearchContainer,\n);\n", "import parseDMS from 'parse-dms';\nimport { position } from '../../../../globals/position';\nimport { deg2rad } from '../../../../utils/deg2rad';\nimport { Container } from '../../../../utils/htmlElements/container';\nimport { lat2y } from '../../../../utils/lat2y';\nimport { lon2x } from '../../../../utils/lon2x';\nimport { mapContainer } from '../../../mapContainer';\nimport { coordError } from './error';\nimport { coordInfo } from './info';\nimport { coordInput } from './input';\nimport { coordSubmit } from './submit';\n\nexport const coordForm = Container.from('form', {\n  action: 'javascript:void(0)',\n  classes: ['m-0'],\n  onsubmit: () => {\n    const { lat: latDeg, lon: lonDeg } = parseDMS(coordInput.html.value) as { lat: number; lon: number; };\n    const { lat, lon } = {\n      lat: deg2rad(latDeg),\n      lon: deg2rad(lonDeg),\n    };\n\n    if (typeof latDeg === 'number' && typeof lonDeg === 'number') {\n      position.xyz = {\n        x: lon2x(lon),\n        y: lat2y(lat),\n      };\n    }\n    mapContainer.redraw('goto');\n  },\n  style: {\n    minWidth: '20em',\n  },\n});\n\ncoordForm.append(\n  Container.from('div', {\n    classes: ['input-group'],\n  })\n  .append(\n    coordInput,\n    coordSubmit,\n  ),\n  coordError,\n  coordInfo.d,\n  coordInfo.dm,\n  coordInfo.dms,\n);\n", "import { Container } from '../../../../utils/htmlElements/container';\n\nexport const coordError = Container.from('div', {\n  classes: ['form-text'],\n});\n", "import type { CoordUnit } from './settings';\n\nexport const coordUnits: CoordUnit[] = ['d', 'dm', 'dms'];\n", "import type { CoordUnit } from '../../../../globals/settings';\nimport { fromEntriesTyped } from '../../../../../common/fromEntriesTyped';\nimport { coordUnits } from '../../../../globals/coordUnits';\nimport { Container } from '../../../../utils/htmlElements/container';\n\nexport const coordInfo = fromEntriesTyped(\n  coordUnits.map(c => [\n    c,\n    Container.from('div', {\n      classes: ['form-text'],\n      style: {\n        width: 'max-content',\n      },\n    }),\n  ] as [CoordUnit, Container]),\n);\n", "import parseDMS from 'parse-dms';\nimport { coordUnits } from '../../../../globals/coordUnits';\nimport { deg2rad } from '../../../../utils/deg2rad';\nimport { Container } from '../../../../utils/htmlElements/container';\nimport { rad2stringFuncs } from '../../../../utils/rad2string';\nimport { coordError } from './error';\nimport { coordInfo } from './info';\nimport { coordSubmit } from './submit';\n\nexport const coordInput = Container.from('input', {\n  autocomplete: 'off',\n  classes: ['form-control'],\n  oninput: () => {\n    console.log('oninput');\n    coordUnits.forEach(u => {\n      coordInfo[u].html.style.display = 'none';\n    });\n\n    try {\n      if (!coordInput.html.value) coordSubmit.html.classList.add('disabled');\n      const { lat: latDeg, lon: lonDeg } = parseDMS(coordInput.html.value) as { lat: number; lon: number; };\n      const { lat, lon } = {\n        lat: deg2rad(latDeg),\n        lon: deg2rad(lonDeg),\n      };\n\n      if (typeof latDeg === 'number' && typeof lonDeg === 'number') {\n        coordUnits.forEach(u => {\n          console.log('update lat/lon');\n          const func = rad2stringFuncs[u];\n          coordInfo[u].html.innerText = `${func({ axis: 'NS', pad: 2, phi: lat })} ${func({ axis: 'EW', pad: 3, phi: lon })}`;\n          coordInfo[u].html.style.display = 'block';\n          coordError.html.style.display = 'none';\n          coordSubmit.html.classList.remove('disabled');\n        });\n      }\n    }\n    catch (e: any) {\n      coordError.html.innerText = e.toString();\n      coordError.html.style.display = 'block';\n      coordSubmit.html.classList.add('disabled');\n    }\n  },\n  placeholder: 'Coordinates',\n  type: 'text',\n});\n", "import { IconButton } from '../../../../utils/htmlElements/iconButton';\nimport { coordForm } from './form';\n\nexport const coordSubmit = new IconButton({\n  icon: 'arrow-right-circle',\n  onclick: () => coordForm.html.submit(),\n});\n", "import type { XYZ } from '../../../../common/types/xyz';\nimport stringify from 'json-stable-stringify';\nimport { extractProperties } from '../../../../common/extractProperties';\nimport { position } from '../../../globals/position';\nimport { tileSize } from '../../../globals/tileSize';\nimport { Container } from '../../../utils/htmlElements/container';\nimport { IconButton } from '../../../utils/htmlElements/iconButton';\nimport { LocalStorageItem } from '../../../utils/localStorageItem';\nimport { rad2string } from '../../../utils/rad2string';\nimport { savedPositionsFromLocalStoreage } from '../../../utils/savedPositionsFromLocalStoreage';\nimport { x2lon } from '../../../utils/x2lon';\nimport { y2lat } from '../../../utils/y2lat';\nimport { mapContainer } from '../../mapContainer';\n\nclass SavedPositions extends Container {\n  constructor () {\n    super();\n    this.refresh();\n  }\n  add ({ x, y, z }: XYZ) {\n    this.edit({ func: 'add', x, y, z });\n  }\n  delete ({ x, y, z }: XYZ) {\n    this.edit({ func: 'delete', x, y, z });\n  }\n  private refresh () {\n    this.clear();\n    const list: XYZ[] = savedPositionsFromLocalStoreage();\n    list.forEach(item => {\n      const { x, y, z } = extractProperties(item, {\n        x: val => Number(val) / tileSize,\n        y: val => Number(val) / tileSize,\n        z: Number,\n      });\n      console.log({ item, x, y, z });\n      this.append(\n        Container.from('div', {\n          classes: ['btn-group', 'my-2', 'd-flex'],\n          role: 'group',\n        })\n        .append(\n          Container.from('a', {\n            classes: ['btn', 'btn-secondary'],\n            onclick: () => {\n              position.xyz = { x, y, z };\n              mapContainer.redraw('load position');\n            },\n            role: 'button',\n          })\n          .append([\n            rad2string({ axis: 'NS', pad: 2, phi: y2lat(y, 1 << z) }),\n            rad2string({ axis: 'EW', pad: 3, phi: x2lon(x, 1 << z) }),\n            `(${z})`,\n          ].join(' ')),\n          new IconButton({\n            icon: 'x',\n            onclick: () => {\n              this.delete({ x, y, z });\n            },\n            style: {\n              flexGrow: '0',\n            },\n          }),\n        ),\n      );\n    });\n  }\n  private edit ({ func, x, y, z }: XYZ & { func: 'add' | 'delete'; }) {\n    const list = new Set(savedPositionsFromLocalStoreage().map(e => stringify(e)));\n    list[func](stringify({\n      x: Math.round(x * tileSize),\n      y: Math.round(y * tileSize),\n      z,\n    }));\n    new LocalStorageItem<XYZ[]>('savedPositions').set([...list].map(e => JSON.parse(e)));\n    updateSavedPositionsList();\n  }\n}\n\nexport const savedPositions = new SavedPositions;\nfunction updateSavedPositionsList () {\n  throw new Error('Function not implemented.');\n}\n", "import type { XYZ } from '../../common/types/xyz';\nimport { LocalStorageItem } from './localStorageItem';\n\nexport function savedPositionsFromLocalStoreage () {\n  const storageItem = new LocalStorageItem<XYZ[]>('savedPositions');\n  const list = storageItem.get();\n  console.log(list);\n  if (Array.isArray(list)) {\n    if (list.every(item => {\n      const check = item.x + item.y + item.z;\n      return typeof check === 'number' && !Number.isNaN(check);\n    })) return list;\n    console.log('x, y, or z is NaN', list);\n  }\n  else console.log('savedPositions not an array');\n  storageItem.set([]);\n  return [];\n}\n", "import { Container } from '../../utils/htmlElements/container';\nimport { addressContainer } from './goto/address/container';\nimport { coordForm } from './goto/coord/form';\nimport { savedPositions } from './goto/savedPositions';\n\n\nexport const gotoMenu = Container.from('div', {\n  classes: ['dropdown'],\n});\n\ngotoMenu.append(\n  Container.from('a', {\n    classes: ['btn', 'btn-secondary', 'dropdown-toggle'],\n    dataset: {\n      bsToggle: 'dropdown',\n    },\n    role: 'button',\n  })\n  .append('Goto'),\n\n  Container.from('div', {\n    classes: ['dropdown-menu', 'p-2'],\n  })\n  .append(\n    coordForm,\n    addressContainer,\n    savedPositions,\n\n  ),\n);\n", "import { position } from '../../globals/position';\nimport { settings } from '../../globals/settings';\nimport { IconButton } from '../../utils/htmlElements/iconButton';\nimport { navionicsDetails } from '../infoBox/navionicsDetails';\n\nexport const navionicsDetailsToggle = new IconButton({\n  active: () => settings.show.navionicsDetails,\n  icon: 'question-circle',\n  onclick: () => {\n    const newActive = !settings.show.navionicsDetails;\n    settings.show.navionicsDetails = newActive;\n    navionicsDetails.fetch(position);\n  },\n});\n", "import type { Layer } from '../../../common/types/layer';\nimport { settings } from '../../globals/settings';\nimport { IconButton } from '../../utils/htmlElements/iconButton';\nimport { mapContainer } from '../mapContainer';\n\nexport class OverlayToggle extends IconButton {\n  constructor (source: Layer) {\n    super({\n      active: () => Boolean(settings.show[source]),\n      onclick: () => {\n        settings.show[source] = !settings.show[source];\n        mapContainer.rebuild(`overlay ${source} toggle`);\n      },\n      src: `icons/${source}.svg`,\n    });\n  }\n}\n", "import { OverlayToggle } from './overlayToggle';\n\nexport const navionicsToggle = new OverlayToggle('navionics');\n", "import { position } from '../../globals/position';\nimport { Container } from '../../utils/htmlElements/container';\nimport { savedPositions } from './goto/savedPositions';\n\nexport const savePosition = Container.from('a', {\n  classes: ['btn', 'btn-secondary'],\n  onclick: () => {\n    savedPositions.add(position.xyz);\n  },\n  role: 'button',\n});\n\nsavePosition.append('Save');\n", "import { settings } from '../../globals/settings';\nimport { IconButton } from '../../utils/htmlElements/iconButton';\n\nexport const suncalcToggle = new IconButton({\n  active: () => settings.show.suncalc,\n  icon: 'sunrise',\n  onclick: () => settings.show.suncalc = !settings.show.suncalc,\n});\n", "import { OverlayToggle } from './overlayToggle';\n\nexport const vfdensityToggle = new OverlayToggle('vfdensity');\n", "import { Container } from '../utils/htmlElements/container';\nimport { baselayerMenu } from './menu/baselayerMenu';\nimport { coordsToggle } from './menu/coordsToggle';\nimport { crosshairToggle } from './menu/crosshairToggle';\nimport { gotoMenu } from './menu/gotoMenu';\nimport { navionicsDetailsToggle } from './menu/navionicsDetailsToggle';\nimport { navionicsToggle } from './menu/navionicsToggle';\nimport { OverlayToggle } from './menu/overlayToggle';\nimport { savePosition } from './menu/savePosition';\nimport { suncalcToggle } from './menu/suncalcToggle';\nimport { vfdensityToggle } from './menu/vfdensityToggle';\n\nclass MenuContainer extends Container {\n  constructor () {\n    super(Container.from('div', {\n      classes: ['d-flex', 'gap-2', 'm-2'],\n      dataset: {\n        bsTheme: 'dark',\n      },\n    }));\n    this.append(\n      baselayerMenu,\n      Container.from('div', {\n        classes: ['btn-group'],\n        role: 'group',\n      })\n      .append(\n        new OverlayToggle('openseamap'),\n        vfdensityToggle,\n        navionicsToggle,\n        navionicsDetailsToggle,\n        crosshairToggle,\n        suncalcToggle,\n        coordsToggle,\n      ),\n      gotoMenu,\n      savePosition,\n    );\n  }\n}\n\nexport const menuContainer = new MenuContainer();\n", "import { infoBox } from './containers/infoBox';\nimport { Marker } from './globals/marker';\nimport { position } from './globals/position';\nimport { deg2rad } from './utils/deg2rad';\n\nlet geolocationBlocked = false;\nexport async function updateUserLocation () {\n  if (geolocationBlocked) return position.user;\n  await new Promise((resolve: PositionCallback, reject: PositionErrorCallback) => {\n    return navigator.geolocation.getCurrentPosition(\n      resolve,\n      reject,\n      {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: 5000,\n      },\n    );\n  })\n  .then((pos) => {\n    const { accuracy, latitude, longitude } = pos.coords;\n    position.user = {\n      accuracy,\n      latitude: deg2rad(latitude),\n      longitude: deg2rad(longitude),\n      timestamp: pos.timestamp,\n    };\n    new Marker({\n      lat: latitude,\n      lon: longitude,\n      type: 'user',\n    });\n  })\n  .catch((err) => {\n    if (err.code === 1) geolocationBlocked = true;\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  });\n\n  infoBox.update();\n  return position.user;\n}\n", "import { mapContainer } from '../containers/mapContainer';\nimport { coordsToggle } from '../containers/menu/coordsToggle';\nimport { crosshairToggle } from '../containers/menu/crosshairToggle';\nimport { navionicsDetailsToggle } from '../containers/menu/navionicsDetailsToggle';\nimport { navionicsToggle } from '../containers/menu/navionicsToggle';\nimport { vfdensityToggle } from '../containers/menu/vfdensityToggle';\nimport { updateUserLocation } from '../getUserLocation';\nimport { baselayers } from '../globals/baselayers';\nimport { mouse } from '../globals/mouse';\nimport { position } from '../globals/position';\nimport { settings } from '../globals/settings';\nimport { tileSize } from '../globals/tileSize';\nimport { boundingRect } from '../index';\nimport { lat2y } from '../utils/lat2y';\nimport { lon2x } from '../utils/lon2x';\n\n\nexport function inputListener (\n  event: KeyboardEvent | WheelEvent | MouseEvent | UIEvent,\n  { x, y }: {x: number, y: number} = { x: 0, y: 0 },\n) {\n  const { height, width } = boundingRect;\n  const { type } = event;\n  let needRedraw = false;\n\n  console.log(event.target);\n  if (event instanceof WheelEvent) {\n    const { deltaY } = event;\n\n    if (deltaY > 0) {\n      needRedraw = position.zoomOut();\n      position.xyz = {\n        x: position.x - (x - width / 2) / tileSize / 2,\n        y: position.y - (y - height / 2) / tileSize / 2,\n      };\n    }\n    else if (deltaY < 0) {\n      needRedraw = position.zoomIn();\n      position.xyz = {\n        x: position.x + (x - width / 2) / tileSize,\n        y: position.y + (y - height / 2) / tileSize,\n      };\n    }\n    else {\n      console.log('noop', { deltaY, type });\n      return;\n    }\n  }\n  else if (event instanceof KeyboardEvent && event.target instanceof HTMLBodyElement) {\n    if (event.isComposing) return;\n    const { key } = event;\n    if (key >= '0' && key <= '9') {\n      const baselayer = baselayers[parseInt(key)];\n      if (typeof baselayer !== 'undefined') mapContainer.baselayer = baselayer;\n    }\n    else if (key === 'c') crosshairToggle.html.click();\n    else if (key === 'd') coordsToggle.html.click();\n    else if (key === 'l') updateUserLocation();\n    else if (key === 'n') {\n      if (settings.show.navionicsDetails && settings.show.navionics) {\n        navionicsDetailsToggle.html.click();\n        navionicsToggle.html.click();\n      }\n      else if (settings.show.navionics) navionicsDetailsToggle.html.click();\n      else navionicsToggle.html.click();\n    }\n    else if (key === 'v') vfdensityToggle.html.click();\n    else {\n      needRedraw = true;\n      if (key === 'r') {\n        position.xyz = {\n          x: Math.round(position.x),\n          y: Math.round(position.y),\n        };\n      }\n      else if (key === 'u') {\n        position.xyz = {\n          x: lon2x(position.user.longitude),\n          y: lat2y(position.user.latitude),\n        };\n      }\n      else if (key === 'ArrowLeft') position.xyz = { x: position.x - 1 };\n      else if (key === 'ArrowRight') position.xyz = { x: position.x + 1 };\n      else if (key === 'ArrowUp') position.xyz = { y: position.y - 1 };\n      else if (key === 'ArrowDown') position.xyz = { y: position.y + 1 };\n      else if (key === 'PageDown') position.zoomIn();\n      else if (key === 'PageUp') position.zoomOut();\n      else {\n        needRedraw = false;\n        console.log('noop', { key, type });\n        return;\n      }\n    }\n  }\n  else if (event instanceof MouseEvent) {\n    position.xyz = {\n      x: Math.round(position.x * tileSize + (mouse.x - x)) / tileSize,\n      y: Math.round(position.y * tileSize + (mouse.y - y)) / tileSize,\n    };\n    needRedraw = true;\n  }\n  if (needRedraw) {\n    mapContainer.redraw(type);\n  }\n}\n", "import { infoBox } from '../containers/infoBox';\nimport { navionicsDetails } from '../containers/infoBox/navionicsDetails';\nimport { mouseContainer } from '../containers/mouseContainer';\nimport { overlayContainer } from '../containers/overlayContainer';\nimport { mouse } from '../globals/mouse';\nimport { position } from '../globals/position';\nimport { tileSize } from '../globals/tileSize';\nimport { boundingRect } from '../index';\nimport { inputListener } from './inputListener';\n\nexport function mouseInput (event: MouseEvent | WheelEvent) {\n  const rect = mouseContainer.getBoundingClientRect();\n  const { x, y } = {\n    x: event.clientX - rect.left,\n    y: event.clientY - rect.top,\n  };\n  if (mouse.down.state) {\n    if (mouse.x !== x || mouse.y !== y) inputListener(event, { x, y });\n  }\n  if (event instanceof WheelEvent) inputListener(event, { x, y });\n\n  const isDown = Boolean(event.buttons & 1);\n  // mousedown\n  if (isDown && !mouse.down.state) {\n    mouse.down.x = x;\n    mouse.down.y = y;\n  }\n  // mouseup\n  if (!isDown && mouse.down.state) {\n    // onclick\n    if (mouse.down.x === x && mouse.down.y === y) {\n      const { height, width } = boundingRect;\n      const { x, y, z } = position;\n      navionicsDetails.fetch({\n        x: x + (mouse.x - width / 2) / tileSize,\n        y: y + (mouse.y - height / 2) / tileSize,\n        z,\n      });\n    }\n    else navionicsDetails.fetch(position);\n  }\n\n  mouse.down.state = isDown;\n  mouse.x = x;\n  mouse.y = y;\n  if (position.markers.delete('navionics')) overlayContainer.redraw();\n  infoBox.update();\n}\n", "import { mouseInput } from '../events/mouseInput';\nimport { containerStyle } from '../globals/containerStyle';\nimport { Container } from '../utils/htmlElements/container';\n\nclass MouseContainer extends Container {\n  constructor () {\n    super(Container.from('div', {\n      id: 'mouseContainer',\n      onmousedown: mouseInput,\n      onmousemove: mouseInput,\n      onmouseup: mouseInput,\n      onwheel: mouseInput,\n      style: containerStyle,\n    }));\n  }\n}\n\nexport const mouseContainer = new MouseContainer;\n\nmouseContainer.html.tagName;\n", "import { Size } from './boundingRect';\nimport { infoBox } from './containers/infoBox';\nimport { mapContainer } from './containers/mapContainer';\nimport { menuContainer } from './containers/menuContainer';\nimport { mouseContainer } from './containers/mouseContainer';\nimport { overlayContainer } from './containers/overlayContainer';\nimport { inputListener } from './events/inputListener';\nimport { Container } from './utils/htmlElements/container';\n\nconst {\n  container: containerId = '',\n} = Object.fromEntries(new URL(import.meta.url).searchParams.entries());\nconst container = Container.from(document.getElementById(containerId) ?? Container.from('div').html);\n\nexport const boundingRect = new Size(container);\n\ncontainer.clear();\ncontainer.append(\n  mapContainer,\n  overlayContainer,\n  mouseContainer,\n  infoBox,\n  menuContainer,\n);\n\nwindow.addEventListener('keydown', inputListener);\nwindow.addEventListener('resize', () => {\n  boundingRect.refresh();\n  mapContainer.redraw('resize');\n});\n\nmapContainer.rebuild('initial');\n"],
  "mappings": "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",
  "names": ["require_implementation", "max", "concatty", "slicy", "Empty", "undefined", "doEval", "stringToPath", "match", "getBaseIntrinsic", "hasPropertyDescriptors", "define", "applyBind", "get", "stringify", "lat", "container", "stringify", "z", "lat", "lon", "lat", "lon", "ttl", "z", "ttl", "z", "ttl", "z", "success", "z", "ttl", "ttl", "z", "lat", "lon", "min", "lat", "lat", "lon", "lat2", "lon2", "lat", "lon", "radDiv", "lat2", "lon2", "lat", "pad", "min", "lat", "x", "y", "z", "max", "position", "lat", "lon", "res", "label", "ttl", "z", "lat", "lon", "defaultOptions", "format", "defaultOptions", "defaultOptions", "localize", "formatLong", "format", "defaultOptions", "min", "max", "lat", "lon", "lat2", "lon2", "z", "import_parse_dms", "parseDMS", "lat", "lon", "parseDMS", "lat", "lon", "import_json_stable_stringify", "z", "stringify", "x", "y", "z"]
}
